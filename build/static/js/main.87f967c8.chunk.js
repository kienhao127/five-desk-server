(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{217:function(e,t,a){e.exports=a.p+"static/media/avatar.dd4f33f9.png"},228:function(e,t,a){e.exports=a.p+"static/media/login-image.001f4f17.png"},229:function(e,t,a){e.exports=a.p+"static/media/register-image.6c43d21e.png"},232:function(e,t,a){e.exports=a.p+"static/media/Content.5c62ce8d.jpg"},250:function(e,t,a){e.exports=a.p+"static/media/sidebar-2.310509c9.jpg"},251:function(e,t,a){e.exports=a.p+"static/media/cover.90bb3c7c.jpeg"},298:function(e,t,a){e.exports=a(563)},483:function(e,t){},485:function(e,t){},520:function(e,t){},563:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(28),r=a(11),l=a(12),s=a(14),c=a(13),m=a(15),u=a(571),p=a(564),d=a(569),h=a(24),g=a(3),f=a(16),b=a(40),x=a(58),v=a(120),y=(a(136),a(4)),E=a.n(y),k=a(363),w=a(10),C=a(27),T=a.n(C),S=a(31),O=a.n(S),j=a(44),N=a.n(j),F=a(133),D=a.n(F),I=a(77),P=a.n(I),L=a(42),M=a.n(L),R=a(93),U=a.n(R),z=a(34),_=a.n(z),A=a(94),V=a.n(A),B=a(121),H=a.n(B),G=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={mobileOpen:!1,open:!1},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.setState({open:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.logo,i=t.logoText,r=o.a.createElement(U.a,{open:this.state.open,anchorEl:this.anchorEl,transition:!0,disablePortal:!0},function(t){var n=t.TransitionProps,i=t.placement;return o.a.createElement(P.a,Object.assign({},n,{id:"menu-list-grow",style:{transformOrigin:"bottom"===i?"center top":"center bottom"}}),o.a.createElement(M.a,null,o.a.createElement(H.a,{onClickAway:e.handleClose},o.a.createElement(V.a,null,o.a.createElement(k.a,{to:"/login",style:{textDecoration:"none"}},o.a.createElement(_.a,{onClick:e.handleClose,className:a.Links},"\u0110\u0103ng nh\u1eadp")),o.a.createElement(k.a,{to:"/register",style:{textDecoration:"none"}},o.a.createElement(_.a,{onClick:e.handleClose,className:a.Links},"\u0110\u0103ng K\xfd"))))))});return o.a.createElement("div",{className:a.root},o.a.createElement(O.a,{smUp:!0},r),o.a.createElement(O.a,{xsDown:!0,implementation:"css"},o.a.createElement("div",{className:a.root},o.a.createElement(k.a,{to:"/home"},o.a.createElement("img",{src:n,alt:"logo",width:"55",height:"45"}),o.a.createElement("div",{className:a.LogoTxt},i)),"/register"!==this.props.location.pathname&&"/login"!==this.props.location.pathname?o.a.createElement("div",{className:a.top},o.a.createElement(k.a,{to:"/login",style:{textDecoration:"none",color:"black"}},o.a.createElement(T.a,{size:"large",className:a.Buttons},"\u0110\u0103ng nh\u1eadp")),o.a.createElement(k.a,{to:"/register",style:{textDecoration:"none",color:"black"}},o.a.createElement(T.a,{size:"large",className:a.Buttons},"\u0110\u0103ng K\xfd"))):null)),o.a.createElement("div",{className:a.navIconHide},o.a.createElement(k.a,{to:"/home"},o.a.createElement("img",{src:n,alt:"logo",width:"55",height:"45"}),o.a.createElement("div",{className:a.LogoTxt},i)),"/register"!==this.props.location.pathname&&"/login"!==this.props.location.pathname?o.a.createElement(N.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle,className:a.navIconHide,style:{float:"right",marginTop:13}},o.a.createElement(D.a,null)):null))}}]),t}(o.a.Component),W=Object(w.withStyles)(function(e){return{navIconHide:Object(g.a)({},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},root:{fontFamily:"Roboto",color:"#00acc1",marginLeft:40,marginTop:10},LogoTxt:{fontFamily:"roboto-medium",color:"black",fontSize:26,display:"inline-block"},top:{fontFamily:"Roboto",float:"right",marginRight:50},Buttons:{textTransform:"inherit",marginRight:10,marginTop:13,fontWeight:500,fontSize:20,color:"#00acc1"},Links:{textDecoration:"none",color:"#00acc1",fontWeight:500,fontSize:20}}})(G),q=a(36),Z=a(57),Y=a.n(Z);var $=E()({grid:{margin:"0 -15px !important",width:"unset"}})(function(e){var t=e.classes,a=e.children,n=Object(b.a)(e,["classes","children"]);return o.a.createElement(Y.a,Object.assign({container:!0},n,{className:t.grid}),a)});var K=E()({grid:{padding:"0 15px !important"}})(function(e){var t=Object(q.a)({},e),a=t.classes,n=t.children,i=Object(b.a)(t,["classes","children"]);return o.a.createElement(Y.a,Object.assign({item:!0},i,{className:a.grid}),n)}),X={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},Q={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},J={boxShadow:"0 10px 30px -12px rgba(0, 0, 0, 0.42), 0 4px 25px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)"},ee={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},te={boxShadow:"0 12px 20px -10px rgba(156, 39, 176, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(156, 39, 176, 0.2)"},ae=(Object(f.a)({background:"linear-gradient(60deg, #ffa726, #fb8c00)"},{boxShadow:"0 12px 20px -10px rgba(255, 152, 0, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(255, 152, 0, 0.2)"}),Object(f.a)({background:"linear-gradient(60deg, #66bb6a, #43a047)"},{boxShadow:"0 12px 20px -10px rgba(76, 175, 80, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(76, 175, 80, 0.2)"}),Object(f.a)({background:"linear-gradient(60deg, #ef5350, #e53935)"},{boxShadow:"0 12px 20px -10px rgba(244, 67, 54, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(244, 67, 54, 0.2)"}),Object(f.a)({background:"linear-gradient(60deg, #26c6da, #00acc1)"},{boxShadow:"0 12px 20px -10px rgba(0, 188, 212, 0.28), 0 4px 20px 0px rgba(0, 0, 0, 0.12), 0 7px 8px -5px rgba(0, 188, 212, 0.2)"}),Object(f.a)({background:"linear-gradient(60deg, #ab47bc, #8e24aa)"},te),Object(f.a)({background:"linear-gradient(60deg, #ec407a, #d81b60)"},{boxShadow:"0 4px 20px 0px rgba(0, 0, 0, 0.14), 0 7px 10px -5px rgba(233, 30, 99, 0.4)"}),Object(f.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid #eeeeee",height:"auto"},ee),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba(0, 0, 0, 0.42), 0 3px 20px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 0, 0, 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),ne={color:"#3C4858",textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:"#777",fontWeight:"400",lineHeight:"1"}},oe=(Object(f.a)({},ne,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(f.a)({},ne,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{footer:{fontFamily:"Roboto",backgroundColor:"#3c3d41",color:"White",paddingTop:30,margin:-8,marginTop:100},logo:{fontSize:50,textAlign:"center",color:"#fff",textDecoration:"none",display:"flex",justifyContent:"center",alignItems:"center"},footerCopyright:{backgroundColor:"#333333",paddingTop:3,paddingBottom:3,textAlign:"center",marginTop:20,marginLeft:-13,marginRight:-13},social_networks:{textAlign:"center",paddingTop:30,paddingBottom:16},social_networks_twitter:{fontSize:32,color:"#f9f9f9",padding:10,transition:"0.2s","&:hover":{color:"#00aced"}},social_networks_google:{fontSize:32,color:"#f9f9f9",padding:10,transition:"0.2s","&:hover":{color:"#0077e2"}},social_networks_facebook:{fontSize:32,color:"#f9f9f9",padding:10,transition:"0.2s","&:hover":{color:"#ef1a1a"}},Button:{display:"block",marginLeft:"auto",marginRight:"auto",marginTop:10,width:150},container:Q,a:{textDecoration:"none",color:"#d2d1d1",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{color:"White"}},ul:{listStyleType:"none",paddingLeft:0,lineHeight:1.7,marginTop:-15},h5:{fontSize:20,color:"white",fontWeight:"bold",marginTop:30,display:"flex",justifyContent:"center",alignItems:"center"}});var ie=E()(oe)(function(e){var t=Object(q.a)({},e).classes;return o.a.createElement("footer",{className:t.footer},o.a.createElement("div",{className:t.container},o.a.createElement($,null,o.a.createElement(K,{xs:12,sm:12,md:3},o.a.createElement("h2",null,o.a.createElement("a",{className:t.logo,href:"/Home"}," FiveDesk "))),o.a.createElement(K,{xs:12,sm:12,md:2},o.a.createElement("h5",{className:t.h5},"B\u1eaft \u0111\u1ea7u"),o.a.createElement("ul",{className:t.ul},o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"/Home"},"Trang ch\u1ee7")),o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"/Login"},"\u0110\u0103ng nh\u1eadp")))),o.a.createElement(K,{xs:12,sm:12,md:2},o.a.createElement("h5",{className:t.h5},"V\u1ec1 ch\xfang t\xf4i"),o.a.createElement("ul",{className:t.ul},o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"#"},"Th\xf4ng tin c\xf4ng ty")),o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"#"},"\u0110\xe1nh gi\xe1")))),o.a.createElement(K,{xs:12,sm:12,md:2},o.a.createElement("h5",{className:t.h5},"H\u1ed7 tr\u1ee3"),o.a.createElement("ul",{className:t.ul},o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"/Home"},"FAQ")),o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"/Home"},"Blog")),o.a.createElement("li",null,o.a.createElement("a",{className:t.a,href:"/Home"},"Forums")))),o.a.createElement(K,{xs:12,sm:12,md:2},o.a.createElement("div",{className:t.social_networks},o.a.createElement("a",{className:t.social_networks_twitter,href:"/Home"},o.a.createElement("i",{class:"fa fa-twitter"})),o.a.createElement("a",{className:t.social_networks_google,href:"/Home"},o.a.createElement("i",{class:"fa fa-facebook"})),o.a.createElement("a",{className:t.social_networks_facebook,href:"/Home"},o.a.createElement("i",{class:"fa fa-google-plus"}))),o.a.createElement(T.a,{variant:"contained",color:"secondary",className:t.Button},"Li\xean h\u1ec7"))),o.a.createElement("div",{className:t.footerCopyright},o.a.createElement("p",null,"\xa9 ",(new Date).getFullYear()," Nh\xf3m 10 All Rights Reserved"))))}),re=function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(f.a)((t={},Object(g.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(g.a)(t,"overflowX","hidden"),Object(g.a)(t,"position","relative"),Object(g.a)(t,"float","right"),t),X,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 0px",minHeight:"calc(100vh - 123px)"}}},le=a(9),se=a.n(le),ce=a(47),me="https://fivedesk.herokuapp.com/";function ue(e,t,a){var n=me+e;return console.log(a),fetch(n,{headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"},method:t,body:JSON.stringify(a)}).then(function(e){return e.json()}).catch(function(e){console.log(e)})}var pe=a(7),de=a(228),he=a.n(de),ge=a(393),fe=function(e,t){return function(a){return new Promise(function(n,o){console.log(e+t);var i=ge(t);(function(e,t){return ue("user/login","POST",{email:e,password:t})})(e,i).then(function(e){console.log(e);var t=e.token;sessionStorage.setItem("token",t);var o=e.user,i={Email:o.Email,FirstName:o.FirstName,LastName:o.LastName,UserID:o.UserID.toString(),PhoneNumber:null!=o.PhoneNumber?o.PhoneNumber.toString():null,CompanyID:o.CompanyID};1===e.returnCode&&(a(ve(i)),n(e))}).catch(function(e){console.log(e)})})}},be=function(e,t,a,n,o,i,r){return function(l){return new Promise(function(l,s){var c=ge(t);(function(e,t,a,n,o,i,r){return ue("user/register","POST",{email:e,password:t,avatar:a,firstname:n,lastname:o,phoneNumber:i,company:r})})(e,c,a,n,o,i,r).then(function(e){1===e.returnCode&&l(e)}).catch(function(e){console.log(e)})})}},xe=function(){return function(e){return new Promise(function(t,a){(function(e){return ue("user/meFromToken","POST",{token:e})})(sessionStorage.getItem("token")).then(function(a){var n=a.user;if(1===a.returnCode){var o=a.token;sessionStorage.setItem("token",o),e(ve(n))}t(a)}).catch(function(e){console.log(e)})})}},ve=function(e){return{type:"SAVE_PROFILE",profile:e}},ye=function(){return function(e){return new Promise(function(e,t){(function(e){return ue("user/getListUser","POST",{token:e})})(sessionStorage.getItem("token")).then(function(t){console.log(t),e(t)}).catch(function(e){console.log(e)})})}},Ee=function(e){return function(t){return new Promise(function(t,a){var n;(n=e,ue("user/getUserInfo","POST",{userID:n})).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},ke=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t,a){return ue("user/changePassword","POST",{token:e,oldPassword:t,newPassword:a})})(sessionStorage.getItem("token"),ge(e),ge(t)).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},we=function(e,t,a){return function(n){return new Promise(function(n,o){(function(e,t,a,n){return ue("user/updateProfile","POST",{token:e,firstname:t,lastname:a,phoneNumber:n})})(sessionStorage.getItem("token"),e,t,a).then(function(e){console.log(e),n(e)}).catch(function(e){console.log(e)})})}},Ce=function(e){return function(t){return new Promise(function(t,a){console.log("addUser",e),e.password=ge(e.password),function(e){return ue("user/addUser","POST",{email:e.email,password:e.password,firstname:e.firstname,lastname:e.lastname,companyID:e.companyID})}(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}};Object(ce.a)();function Te(e){return o.a.createElement(pe.j,Object.assign({direction:"down"},e))}var Se=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onValueChange=function(e){"txtUsername"==e.target.id?a.setState({email:e.target.value}):"txtPassword"==e.target.id&&a.setState({password:e.target.value})},a.handleValidation=function(e,t){if(""==e||""==t)return a.setState({openDialog:!0,message:"Email ho\u1eb7c password kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1;if(""!==e){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e))return a.setState({openDialog:!0,message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}),!1}return!0},a.handleClose=function(){a.setState({openDialog:!1})},a.onLoginClick=function(e,t){a.handleValidation(e,t)&&a.props.doLogin(e,t).then(function(e){a.props.history.push("/agent/ticket")}).catch(function(e){console.log(e)})},a.state={email:"",password:"",openDialog:!1,message:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{className:t.loginDiv},o.a.createElement(pe.b,{open:this.state.openDialog,TransitionComponent:Te,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(pe.f,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(pe.d,null,o.a.createElement(pe.e,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(pe.c,null,o.a.createElement(pe.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement($,null,o.a.createElement(K,{xs:12,md:5},o.a.createElement("div",{className:t.infoDiv},o.a.createElement(se.a,{id:"txtUsername",label:"Email",type:"text",name:"txtUsername",className:t.textField,variant:"outlined",value:this.state.email,onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtPassword",label:"Password",type:"password",name:"txtPassword",className:t.textField,variant:"outlined",value:this.state.password,onChange:this.onValueChange}),o.a.createElement("div",{className:t.infoDiv},o.a.createElement(w.MuiThemeProvider,{theme:Oe},o.a.createElement(pe.a,{onClick:function(){return e.onLoginClick(e.state.email,e.state.password)},variant:"contained",color:"primary",style:{width:"45%",height:"25%",marginTop:15}},o.a.createElement(pe.k,{style:{color:"#FFF",fontSize:15,fontFamily:"Roboto-Regular"}},"\u0110\u0103ng Nh\u1eadp")),o.a.createElement(pe.a,{style:{width:"45%",height:"25%",marginLeft:10,marginTop:15},className:t.button},o.a.createElement(pe.k,{style:{color:"#00bcd4",fontSize:15,fontFamily:"Roboto-Regular"}},"\u0110\u0103ng K\xfd")))))),o.a.createElement(K,{xs:12,md:7},o.a.createElement("img",{src:he.a,style:{width:"90%",display:"block",marginLeft:"auto",marginRight:"auto"}}))))}}]),t}(o.a.Component),Oe=Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}}}),je=Object(w.withStyles)({loginDiv:{paddingLeft:"5%",paddingRight:"5%",width:"90%",display:"flex",flexDirection:"row",jusifyContent:"center",alignItem:"center"},infoDiv:{margin:"10px"},inline:{display:"inline"},h4:{marginRight:"20px"},textField:{marginTop:"15px",marginLeft:"10px",width:"98%"},button:{position:"relative",left:"10%"}})(Object(h.b)(function(e){return{}},function(e){return{doLogin:function(t,a){return e(fe(t,a))}}})(Se)),Ne=a(5),Fe=a.n(Ne),De=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props;e.classes,e.width,e.color;return o.a.createElement(w.MuiThemeProvider,{theme:Ie},o.a.createElement(pe.a,{onClick:this.props.onClick,variant:"contained",color:"primary",style:{width:this.props.width}},o.a.createElement(pe.k,{style:{color:this.props.textColor}},this.props.content)))}}]),t}(o.a.Component),Ie=Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}}}),Pe=De,Le=a(229),Me=a.n(Le);function Re(e){return o.a.createElement(pe.j,Object.assign({direction:"down"},e))}var Ue=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onValueChange=function(e){"txtEmail"==e.target.id?a.setState({username:e.target.value}):"txtPassword"==e.target.id?a.setState({password:e.target.value}):"txtRePassword"==e.target.id?a.setState({rePassword:e.target.value}):"txtLastName"==e.target.id?a.setState({lastName:e.target.value}):"txtFirstName"==e.target.id?a.setState({firstName:e.target.value}):"txtPhoneNumber"==e.target.id?a.setState({phoneNumber:e.target.value}):"txtCompanyName"==e.target.id&&a.setState({companyName:e.target.value})},a.handleValidation=function(e,t,n,o,i,r,l){if(""==e||""==t||""==o||""==i||""==r||""==l)return a.setState({openDialog:!0,message:"C\xe1c tr\u01b0\u1eddng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1;if(""!==e){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e))return a.setState({openDialog:!0,message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}),!1}return t==n||(a.setState({openDialog:!0,message:"M\u1eadt kh\u1ea9u nh\u1eadp l\u1ea1i kh\xf4ng kh\u1edbp"}),!1)},a.onRegister=function(e,t,n,o,i,r,l,s){console.log(e,t,n,o,i,r,l,s),a.handleValidation(e,t,n,i,r,l,s)&&a.props.doregister(e,t,o,i,r,l,s).then(function(e){"1"==e.returnCode?(a.setState({openDialog:!0,message:"\u0110\u0103ng k\xfd th\xe0nh c\xf4ng"}),console.log(e)):"0"==e.returnCode&&a.setState({openDialog:!0,message:"\u0110\u0103ng k\xfd th\u1ea5t b\u1ea1i"})}).catch(function(e){console.log(e)})},a.handleClose=function(){a.setState({openDialog:!1})},a.state={username:"",password:"",rePassword:"",email:"",lastName:"",firstName:"",phoneNumber:"",companyName:"",openDialog:!1,message:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("div",{style:{width:"50%",display:"block",marginLeft:"auto",marginRight:"auto"}},o.a.createElement(pe.b,{open:this.state.openDialog,TransitionComponent:Re,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(pe.f,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(pe.d,null,o.a.createElement(pe.e,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(pe.c,null,o.a.createElement(pe.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement("img",{src:Me.a,style:{width:"75%",display:"block",marginLeft:"auto",marginRight:"auto"}}),o.a.createElement(pe.k,{style:{display:"block",marginLeft:"auto",marginRight:"auto",fontSize:"3.5vw",fontFamily:"Roboto-Medium",textAlign:"center"}},"B\u1eaft \u0111\u1ea7u k\u1ebft n\u1ed1i kh\xe1ch h\xe0ng!"),o.a.createElement($,null,o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("div",{className:t.selectableTextFieldContainer},o.a.createElement(se.a,{id:"txtFirstName",label:"H\u1ecd",type:"text",name:"txtFirstName",className:t.selectableTextFieldType,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtLastName",label:"T\xean",type:"text",name:"txtLastName",className:t.selectableTextFieldPriority,variant:"outlined",onChange:this.onValueChange})),o.a.createElement(se.a,{id:"txtPhoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",type:"text",name:"txtPhoneNumber",className:t.textField,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtCompanyName",label:"T\xean c\xf4ng ty",type:"text",name:"txtCompanyName",className:t.textField,variant:"outlined",margin:"normal",onChange:this.onValueChange})),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement(se.a,{id:"txtEmail",label:"Email",type:"text",name:"txtEmail",className:t.textField,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtPassword",label:"M\u1eadt kh\u1ea9u",type:"password",name:"txtPassword",className:t.textField,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtRePassword",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",name:"txtRePassword",className:t.textField,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(w.MuiThemeProvider,{theme:ze},o.a.createElement(pe.a,{variant:"contained",color:"primary",style:{width:"98%",height:"25%",marginLeft:10,marginTop:15},onClick:function(){return e.onRegister(e.state.username,e.state.password,e.state.rePassword,null,e.state.firstName,e.state.lastName,e.state.phoneNumber,e.state.companyName)}},o.a.createElement(pe.k,{style:{color:"#FFF",fontSize:20}},"\u0110\u0103ng k\xfd"))))))}}]),t}(o.a.Component),ze=Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}}}),_e=Object(w.withStyles)({center:{display:"block",marginLeft:"auto",marginRight:"auto"},container:{display:"flex",flexWrap:"wrap"},textField:{marginTop:"15px",marginLeft:"10px",width:"98%"},selectableTextFieldContainer:{marginTop:"15px",paddingLeft:"10px",display:"flex",width:"98%"},selectableTextFieldType:{width:"50%",marginRight:"5px"},selectableTextFieldPriority:{marginLeft:"5px",width:"50%"}})(Object(h.b)(function(e){return{}},function(e){return{doregister:function(t,a,n,o,i,r,l){return e(be(t,a,n,o,i,r,l))}}})(Ue)),Ae=a(159),Ve=a(232),Be=a.n(Ve),He=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t={height:"390",width:"640",playerVars:{autoplay:0}},a=[{name:"MailTicket",ID:"dZ4hK2_puNM"},{name:"LiveChat",ID:"7ohBYGLz9Zw"}];return o.a.createElement("div",{className:e.root},o.a.createElement($,null,o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("h1",{className:e.h1},"Tr\u1ea3i nghi\u1ec7m kh\xe1ch h\xe0ng t\u1ed1t nh\u1ea5t \u0111\u01b0\u1ee3c x\xe2y d\u1ef1ng v\u1edbi FiveDesk"),o.a.createElement("p",{className:e.p},"N\u1ec1n t\u1ea3ng t\u01b0\u01a1ng t\xe1c v\xe0 d\u1ecbch v\u1ee5 kh\xe1ch h\xe0ng m\u1ea1nh m\u1ebd v\xe0 linh ho\u1ea1t, v\xe0 quy m\xf4 \u0111\u1ec3 \u0111\xe1p \u1ee9ng nhu c\u1ea7u c\u1ee7a b\u1ea5t k\u1ef3 doanh nghi\u1ec7p n\xe0o.")),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("img",{className:e.img,src:Be.a})),o.a.createElement(K,{xs:12,sm:12,md:12},o.a.createElement("h1",{className:e.h1_2},"K\u1ebft n\u1ed1i kh\xe1ch h\xe0ng")),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("h1",{className:e.h1_3},"Mail Ticket"),o.a.createElement("p",{className:e.p},"L\xe0 m\u1ed9t \u0111\u1ea1i l\xfd, tr\xe1ch nhi\u1ec7m ch\xednh c\u1ee7a b\u1ea1n l\xe0 gi\u1ea3i quy\u1ebft c\xe1c y\xeau c\u1ea7u h\u1ed7 tr\u1ee3 c\u1ee7a kh\xe1ch h\xe0ng. \u0110\u1ec3 l\xe0m \u0111i\u1ec1u \u0111\xf3, b\u1ea1n l\xe0m vi\u1ec7c v\u1edbi Mail Ticket, c\xf3 th\u1ec3 \u0111\u1ebfn b\u1eb1ng nhi\u1ec1u c\xe1ch kh\xe1c nhau nh\u01b0 th\xf4ng qua bi\u1ec3u m\u1eabu y\xeau c\u1ea7u, tr\u1ef1c ti\u1ebfp qua email, qua \u0111i\u1ec7n tho\u1ea1i v\xe0 tr\xf2 chuy\u1ec7n v\u0103n b\u1ea3n v\xe0 t\u1eeb ph\u01b0\u01a1ng ti\u1ec7n truy\u1ec1n th\xf4ng x\xe3 h\u1ed9i nh\u01b0 Twitter v\xe0 Facebook. C\xe1c t\xf9y ch\u1ecdn m\xe0 kh\xe1ch h\xe0ng c\u1ee7a b\u1ea1n c\xf3 \u0111\u1ec3 y\xeau c\u1ea7u h\u1ed7 tr\u1ee3 \u0111\u01b0\u1ee3c g\u1ecdi l\xe0 Channel. Ch\u1ee7 s\u1edf h\u1eefu t\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n ho\u1eb7c qu\u1ea3n tr\u1ecb vi\xean thi\u1ebft l\u1eadp H\u1ed7 tr\u1ee3 FiveDesk cho b\u1ea1n s\u1ebd x\xe1c \u0111\u1ecbnh k\xeanh n\xe0o \u0111\u01b0\u1ee3c bao g\u1ed3m.")),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("div",{className:e.video},o.a.createElement(Ae.a,{className:e.videoy,videoId:a[0].ID,opts:t,onReady:this._onReady}))),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("h1",{className:e.h1_3},"Live Chat"),o.a.createElement("p",{className:e.p},"Live Chat t\u1ea1o k\u1ebft n\u1ed1i c\xe1 nh\xe2n v\u1edbi kh\xe1ch h\xe0ng \u0111ang t\xecm ki\u1ebfm h\u1ed7 tr\u1ee3. \u0110\xf3 l\xe0 m\u1ed9t c\xe1ch nhanh ch\xf3ng v\xe0 hi\u1ec7u qu\u1ea3 \u0111\u1ec3 cung c\u1ea5p tr\u1ee3 gi\xfap \u2014 m\xe0 kh\xf4ng l\xe0m gi\xe1n \u0111o\u1ea1n tr\u1ea3i nghi\u1ec7m c\u1ee7a h\u1ecd. Live Chat cho ph\xe9p c\xe1c \u0111\u1ea1i l\xfd x\u1eed l\xfd nhi\u1ec1u cu\u1ed9c tr\xf2 chuy\u1ec7n c\xf9ng m\u1ed9t l\xfac, do \u0111\xf3 th\u1eddi gian ch\u1edd gi\u1ea3m v\xe0 kh\xe1ch h\xe0ng c\xf3 tr\u1ea3i nghi\u1ec7m t\u1ed1t h\u01a1n.")),o.a.createElement(K,{xs:12,sm:12,md:6},o.a.createElement("div",{className:e.video},o.a.createElement(Ae.a,{className:e.videoy,videoId:a[1].ID,opts:t,onReady:this._onReady})))))}}]),t}(o.a.Component),Ge=E()(function(e){return{root:{width:"95%",marginLeft:"auto",marginRight:"auto"},img:{top:0,right:0,bottom:0,left:0,width:"100%",height:"100%"},video:{marginTop:25,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",height:450,overflow:"hidden"},videoy:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},h1:{fontFamily:"roboto-medium",fontSize:48,color:"#00bcd4"},p:{fontFamily:"roboto-light",fontSize:20,lineHeight:1.7},h1_2:{fontFamily:"roboto-medium",color:"#016370",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"5vw",margin:60},h1_3:{fontFamily:"roboto-medium",color:"#00bcd4",fontSize:35}}})(He),We=a(80),qe=a.n(We),Ze=o.a.createElement(u.a,null,o.a.createElement(p.a,{path:"/home",component:Ge}),o.a.createElement(p.a,{path:"/register",component:_e}),o.a.createElement(p.a,{path:"/login",component:je}),o.a.createElement(d.a,{from:"/",to:"/home"})),Ye=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={mobileOpen:!1},a.resizeFunction=a.resizeFunction.bind(Object(x.a)(Object(x.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getRoute",value:function(){return"/maps"!==this.props.location.pathname}},{key:"resizeFunction",value:function(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(b.a)(e,["classes"]);return o.a.createElement("div",{className:t.wrapper},o.a.createElement(W,Object.assign({handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,logo:qe.a,logoText:"FiveDesk"},a)),o.a.createElement("div",{className:t.content},o.a.createElement("div",{className:t.container},Ze)),o.a.createElement(ie,null))}}]),t}(o.a.Component),$e=E()(function(e){var t;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(f.a)((t={},Object(g.a)(t,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(g.a)(t,"overflowX","hidden"),Object(g.a)(t,"position","relative"),Object(g.a)(t,"float","right"),t),X,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{padding:"30px 0px",minHeight:"calc(100vh - 123px)"}}})(Ye),Ke=a(122),Xe=a.n(Ke),Qe=a(64),Je=a.n(Qe),et=a(236),tt=a.n(et),at=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).stringToColour=function(e){if(null!=e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);var n="#";for(a=0;a<3;a++){n+=("00"+(t>>8*a&255).toString(16)).substr(-2)}return n}return"#B9C5D4"},a.state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{style:{display:"flex",width:this.props.width,height:this.props.width,borderRadius:this.props.width/2,backgroundColor:this.stringToColour(this.props.colorString),justifyContent:"center",alignItems:"center"}},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular",fontSize:this.props.width/2,color:"#FFFFFF",textAlign:"center"}},null!=this.props.content?this.props.content[0].toUpperCase():""))}}],[{key:"defaultProps",get:function(){return{width:40}}}]),t}(o.a.Component),nt=(Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}}}),at),ot=a(235),it=a.n(ot),rt=a(96),lt=a.n(rt),st=a(95),ct=a.n(st),mt=a(63),ut=a.n(mt),pt=a(233),dt=a.n(pt),ht=a(234),gt=a.n(ht),ft={disabled:{"&:before":{backgroundColor:"transparent !important"}},underline:{"&:hover:not($disabled):before,&:before":{borderColor:"#D2D2D2 !important",borderWidth:"1px !important"},"&:after":{borderColor:"#00acc1"}},underlineError:{"&:after":{borderColor:"#f44336"}},underlineSuccess:{"&:after":{borderColor:"#4caf50"}},labelRoot:Object(f.a)({},ee,{color:"#AAAAAA !important",fontWeight:"400",fontSize:"14px",lineHeight:"1.42857"}),labelRootError:{color:"#f44336"},labelRootSuccess:{color:"#4caf50"},feedback:{position:"absolute",top:"18px",right:"0",zIndex:"2",display:"block",width:"24px",height:"24px",textAlign:"center",pointerEvents:"none"},marginTop:{marginTop:"16px"},formControl:{paddingBottom:"10px",margin:"27px 0 0 0",position:"relative"}};var bt=E()(ft)(function(e){var t,a,n=Object(q.a)({},e),i=n.classes,r=n.formControlProps,l=n.labelText,s=n.id,c=n.labelProps,m=n.inputProps,u=n.error,p=n.success,d=Fe()((t={},Object(g.a)(t," "+i.labelRootError,u),Object(g.a)(t," "+i.labelRootSuccess,p&&!u),t)),h=Fe()((a={},Object(g.a)(a,i.underlineError,u),Object(g.a)(a,i.underlineSuccess,p&&!u),Object(g.a)(a,i.underline,!0),a)),f=Fe()(Object(g.a)({},i.marginTop,void 0===l));return o.a.createElement(lt.a,Object.assign({},r,{className:r.className+" "+i.formControl}),void 0!==l?o.a.createElement(ct.a,Object.assign({className:i.labelRoot+d,htmlFor:s},c),l):null,o.a.createElement(ut.a,Object.assign({classes:{root:f,disabled:i.disabled,underline:h},id:s},m)),u?o.a.createElement(dt.a,{className:i.feedback+" "+i.labelRootError}):p?o.a.createElement(gt.a,{className:i.feedback+" "+i.labelRootSuccess}):null)}),xt={button:{minHeight:"auto",minWidth:"auto",backgroundColor:"#999999",color:"#FFFFFF",boxShadow:"0 2px 2px 0 rgba(153, 153, 153, 0.14), 0 3px 1px -2px rgba(153, 153, 153, 0.2), 0 1px 5px 0 rgba(153, 153, 153, 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:"#FFFFFF",backgroundColor:"#999999",boxShadow:"0 14px 26px -12px rgba(153, 153, 153, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(153, 153, 153, 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:"#FFFFFF",color:"#999999"}},rose:{backgroundColor:"#e91e63",boxShadow:"0 2px 2px 0 rgba(233, 30, 99, 0.14), 0 3px 1px -2px rgba(233, 30, 99, 0.2), 0 1px 5px 0 rgba(233, 30, 99, 0.12)","&:hover,&:focus":{backgroundColor:"#e91e63",boxShadow:"0 14px 26px -12px rgba(233, 30, 99, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(233, 30, 99, 0.2)"}},primary:{backgroundColor:"#9c27b0",boxShadow:"0 2px 2px 0 rgba(156, 39, 176, 0.14), 0 3px 1px -2px rgba(156, 39, 176, 0.2), 0 1px 5px 0 rgba(156, 39, 176, 0.12)","&:hover,&:focus":{backgroundColor:"#9c27b0",boxShadow:"0 14px 26px -12px rgba(156, 39, 176, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(156, 39, 176, 0.2)"}},info:{backgroundColor:"#00acc1",boxShadow:"0 2px 2px 0 rgba(0, 188, 212, 0.14), 0 3px 1px -2px rgba(0, 188, 212, 0.2), 0 1px 5px 0 rgba(0, 188, 212, 0.12)","&:hover,&:focus":{backgroundColor:"#00acc1",boxShadow:"0 14px 26px -12px rgba(0, 188, 212, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(0, 188, 212, 0.2)"}},success:{backgroundColor:"#4caf50",boxShadow:"0 2px 2px 0 rgba(76, 175, 80, 0.14), 0 3px 1px -2px rgba(76, 175, 80, 0.2), 0 1px 5px 0 rgba(76, 175, 80, 0.12)","&:hover,&:focus":{backgroundColor:"#4caf50",boxShadow:"0 14px 26px -12px rgba(76, 175, 80, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(76, 175, 80, 0.2)"}},warning:{backgroundColor:"#ff9800",boxShadow:"0 2px 2px 0 rgba(255, 152, 0, 0.14), 0 3px 1px -2px rgba(255, 152, 0, 0.2), 0 1px 5px 0 rgba(255, 152, 0, 0.12)","&:hover,&:focus":{backgroundColor:"#ff9800",boxShadow:"0 14px 26px -12px rgba(255, 152, 0, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(255, 152, 0, 0.2)"}},danger:{backgroundColor:"#f44336",boxShadow:"0 2px 2px 0 rgba(244, 67, 54, 0.14), 0 3px 1px -2px rgba(244, 67, 54, 0.2), 0 1px 5px 0 rgba(244, 67, 54, 0.12)","&:hover,&:focus":{backgroundColor:"#f44336",boxShadow:"0 14px 26px -12px rgba(244, 67, 54, 0.42), 0 4px 23px 0px rgba(0, 0, 0, 0.12), 0 8px 10px -5px rgba(244, 67, 54, 0.2)"}},simple:{"&,&:focus,&:hover":{color:"#FFFFFF",background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:"#e91e63"}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:"#9c27b0"}},"&$info":{"&,&:focus,&:hover,&:visited":{color:"#00acc1"}},"&$success":{"&,&:focus,&:hover,&:visited":{color:"#4caf50"}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:"#ff9800"}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:"#f44336"}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:"#999999",boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}};var vt=E()(xt)(function(e){var t,a=Object(q.a)({},e),n=a.classes,i=a.color,r=a.round,l=a.children,s=a.disabled,c=a.simple,m=a.size,u=a.block,p=a.link,d=a.justIcon,h=a.className,f=a.muiClasses,x=Object(b.a)(a,["classes","color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),v=Fe()((t={},Object(g.a)(t,n.button,!0),Object(g.a)(t,n[m],m),Object(g.a)(t,n[i],i),Object(g.a)(t,n.round,r),Object(g.a)(t,n.disabled,s),Object(g.a)(t,n.simple,c),Object(g.a)(t,n.block,u),Object(g.a)(t,n.link,p),Object(g.a)(t,n.justIcon,d),Object(g.a)(t,h,h),t));return o.a.createElement(T.a,Object.assign({},x,{classes:f,className:v}),l)}),yt=function(e){return{buttonLink:Object(g.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(g.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:"#a9afbb",marginRight:"15px"}),linkText:Object(f.a)({zIndex:"4"},ee,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(g.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),pooperNav:Object(g.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"none !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:"#FFF !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba(0, 0, 0, 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:"#fff",WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(f.a)({},ee,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:"#333",whiteSpace:"nowrap",height:"unset","&:hover":Object(f.a)({backgroundColor:"#9c27b0",color:"#FFFFFF"},te)})}},Et=function(e){var t,a,n,o;return Object(f.a)({},yt(e),{search:Object(g.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:"#FFFFFF"}}),linkText:Object(f.a)({zIndex:"4"},ee,{fontSize:"14px",margin:"0px"}),icons:{},buttonLink:Object(g.a)({marginRight:20},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"50px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(g.a)({marginRight:20},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(t={zIndex:"4"},Object(g.a)(t,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid #FFF",right:"4px",fontSize:"9px",background:"#f44336",color:"#FFFFFF",minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(g.a)(t,e.breakpoints.down("sm"),Object(f.a)({},ee,{fontSize:"14px",marginRight:"8px"})),t),manager:(a={},Object(g.a)(a,e.breakpoints.down("sm"),{width:"100%"}),Object(g.a)(a,"display","inline-block"),a),searchWrapper:(n={},Object(g.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(g.a)(n,"display","inline-block"),n),avatar:(o={},Object(g.a)(o,e.breakpoints.down("sm"),{marginRight:"15px",marginLeft:"-10px",width:35,height:35}),Object(g.a)(o,e.breakpoints.up("md"),{margin:"-10px",width:40,height:40}),o),row:{display:"flex",justifyContent:"center",alginItems:"center"},userInfoMenuItem:{paddingLeft:20},userInfoName:{fontFamily:"roboto-medium",fontSize:20,color:"#666"},userInfoSecondary:{fontFamily:"roboto",fontSize:14,color:"#68737D"},logoutLabel:{color:"#666",fontSize:20},peperContainer:{width:300}})},kt=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;this.state.open;return null!=this.props.userProfile?o.a.createElement("div",null,o.a.createElement("div",{className:e.searchWrapper},o.a.createElement(bt,{formControlProps:{className:e.margin+" "+e.search},inputProps:{placeholder:"Search",inputProps:{"aria-label":"Search"}}}),o.a.createElement(vt,{color:"white","aria-label":"edit",justIcon:!0,round:!0,className:e.searchButton},o.a.createElement(it.a,null))),o.a.createElement(vt,{color:window.innerWidth>959?"transparent":"white",justIcon:window.innerWidth>959,simple:!(window.innerWidth>959),className:e.buttonLink,round:!0,component:k.a,to:"/agent/member/profile/"+this.props.userProfile.UserID},o.a.createElement("div",null,o.a.createElement(nt,{content:this.props.userProfile.FirstName,colorString:this.props.userProfile.Email}),o.a.createElement(O.a,{mdUp:!0,implementation:"css"},o.a.createElement("p",{onClick:this.handleClick,className:e.linkText},"Trang c\xe1 nh\xe2n"))))):""}}]),t}(o.a.Component),wt=E()(Et)(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{}})(kt)),Ct=function(e){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:"#555555",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(f.a)({},Q,{minHeight:"50px"}),flex:{flex:1,display:"flex"},title:Object(f.a)({},ee,{lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(f.a)({backgroundColor:"#9c27b0",color:"#FFFFFF"},ae),info:Object(f.a)({backgroundColor:"#00acc1",color:"#FFFFFF"},ae),success:Object(f.a)({backgroundColor:"#4caf50",color:"#FFFFFF"},ae),warning:Object(f.a)({backgroundColor:"#ff9800",color:"#FFFFFF"},ae),danger:Object(f.a)({backgroundColor:"#f44336",color:"#FFFFFF"},ae),indicator:{backgroundColor:"#00acc1"},rightIcon:{marginLeft:e.spacing.unit},logoimg:{width:"50px",height:"50px"}}};var Tt=E()(Ct)(function(e){var t=Object(q.a)({},e),a=t.classes,n=t.color,i=Fe()(Object(g.a)({}," "+a[n],n));return o.a.createElement(Xe.a,{className:a.appBar+i},o.a.createElement(Je.a,{className:a.container},o.a.createElement("div",{className:a.flex},o.a.createElement(O.a,{mdUp:!0,implementation:"css"},o.a.createElement("img",{src:qe.a,alt:"logo",style:{width:50}})),"/agent/ticket"===t.location.pathname?o.a.createElement(T.a,{color:"default",className:a.button,component:k.a,to:"/agent/ticket/new"},"Th\xeam",o.a.createElement(tt.a,{className:a.rightIcon})):null),o.a.createElement(O.a,{smDown:!0,implementation:"css"},o.a.createElement(wt,null)),o.a.createElement(O.a,{mdUp:!0,implementation:"css"},o.a.createElement(N.a,{color:"inherit","aria-label":"open drawer",onClick:t.handleDrawerToggle},o.a.createElement(D.a,null)))))}),St=a(568),Ot=a(98),jt=a.n(Ot),Nt=a(43),Ft=a.n(Nt),Dt=a(38),It=a.n(Dt),Pt=a(97),Lt=a.n(Pt),Mt=a(65),Rt=a.n(Mt),Ut=a(123),zt=a.n(Ut),_t=a(237),At=a.n(_t),Vt=function(e){var t;return{drawerPaper:Object(f.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},J,(t={width:260},Object(g.a)(t,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(g.a)(t,e.breakpoints.down("sm"),Object(f.a)({width:260},J,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},X)),t)),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba(180, 180, 180, 0.3)"}},logoLink:Object(f.a)({},ee,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:"#FFFFFF"}}),logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:"#000",opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:"#FFFFFF"}},itemLink:Object(f.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},ee),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba(255, 255, 255, 0.8)"},itemText:Object(f.a)({},ee,{margin:"0",lineHeight:"30px",fontSize:"14px",color:"#FFFFFF"}),whiteFont:{color:"#FFFFFF"},purple:Object(f.a)({backgroundColor:"#9c27b0"},te,{"&:hover":Object(f.a)({backgroundColor:"#9c27b0"},te)}),blue:{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)","&:hover":{backgroundColor:"#00acc1",boxShadow:"0 12px 20px -10px rgba(0,188,212,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(0,188,212,.2)"}},green:{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)","&:hover":{backgroundColor:"#4caf50",boxShadow:"0 12px 20px -10px rgba(76,175,80,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(76,175,80,.2)"}},orange:{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)","&:hover":{backgroundColor:"#ff9800",boxShadow:"0 12px 20px -10px rgba(255,152,0,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(255,152,0,.2)"}},red:{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)","&:hover":{backgroundColor:"#f44336",boxShadow:"0 12px 20px -10px rgba(244,67,54,.28), 0 4px 20px 0 rgba(0,0,0,.12), 0 7px 8px -5px rgba(244,67,54,.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:{position:"absolute",width:"100%",bottom:"13px"}}},Bt=E()(Vt)(function(e){var t=Object(q.a)({},e);function a(e){return t.location.pathname.indexOf(e)>-1}var n=t.classes,i=t.color,r=t.logo,l=t.image,s=t.logoText,c=t.routes,m=t.newMessage,u=o.a.createElement(Ft.a,{className:n.list},o.a.createElement(It.a,{button:!0,className:n.itemLink+" "+n.activePro,component:k.a,to:"/",onClick:function(){return sessionStorage.removeItem("token")}},o.a.createElement(Lt.a,{className:n.itemIcon},o.a.createElement(At.a,null)),o.a.createElement(Rt.a,{primary:"\u0110\u0103ng xu\u1ea5t",className:n.itemText,disableTypography:!0})),c.map(function(e,t){if(e.redirect)return null;var r;r=Fe()(Object(g.a)({}," "+n[i],a(e.path)));var l=Fe()(Object(g.a)({}," "+n.whiteFont,a(e.path)));return o.a.createElement(St.a,{to:e.path,className:" "+n.item,activeClassName:"active",key:t},o.a.createElement(It.a,{button:!0,className:n.itemLink+r},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(Lt.a,{className:n.itemIcon+l},"string"===typeof e.icon?o.a.createElement(zt.a,null,e.icon):o.a.createElement(e.icon,null)),o.a.createElement(Rt.a,{primary:e.sidebarName,className:n.itemText+l,disableTypography:!0}),1==m&&"Chat"==e.sidebarName?o.a.createElement("div",{style:{width:10,height:10,borderRadius:5,backgroundColor:"red"}}):null)))})),p=o.a.createElement("div",{className:n.logo},o.a.createElement("a",{href:"/agent/ticket",className:n.logoLink},o.a.createElement("div",{className:n.logoImage},o.a.createElement("img",{src:r,alt:"logo",className:n.img})),s));return o.a.createElement("div",null,o.a.createElement(O.a,{mdUp:!0,implementation:"css"},o.a.createElement(jt.a,{variant:"temporary",anchor:"right",open:t.open,classes:{paper:n.drawerPaper},onClose:t.handleDrawerToggle,ModalProps:{keepMounted:!0}},p,o.a.createElement("div",{className:n.sidebarWrapper},o.a.createElement(wt,null),u),void 0!==l?o.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+l+")"}}):null)),o.a.createElement(O.a,{smDown:!0,implementation:"css"},o.a.createElement(jt.a,{anchor:"left",variant:"permanent",open:!0,classes:{paper:n.drawerPaper}},p,o.a.createElement("div",{className:n.sidebarWrapper},u),void 0!==l?o.a.createElement("div",{className:n.background,style:{backgroundImage:"url("+l+")"}}):null)))}),Ht=a(246),Gt=a.n(Ht),Wt=a(247),qt=a.n(Wt),Zt=a(249),Yt=a.n(Zt),$t=a(248),Kt=a.n($t),Xt=a(127),Qt=a.n(Xt),Jt=a(37),ea=a.n(Jt),ta=a(124),aa=a.n(ta),na=a(78),oa=a.n(na),ia=a(125),ra=a.n(ia),la=a(79),sa=a.n(la),ca=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onSelectAllClick,n=t.order,i=t.orderBy,r=t.numSelected,l=t.rowCount,s=t.rows;return o.a.createElement(aa.a,null,o.a.createElement(oa.a,null,o.a.createElement(ea.a,{padding:"checkbox"},o.a.createElement(sa.a,{color:"default",checked:r===l,onChange:a})),s.map(function(t){return o.a.createElement(ea.a,{key:t.id,numeric:!1,padding:"none",sortDirection:i===t.id&&n},o.a.createElement(ra.a,{active:i===t.id,direction:n,onClick:e.createSortHandler(t.id)},t.label))},this)))}}]),t}(o.a.Component),ma=a(39),ua=a.n(ma),pa=a(55),da=a.n(pa),ha=a(241),ga=a.n(ha),fa=a(240),ba=a.n(fa),xa=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getNotCloseByUserID","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},va=function(e){return function(t){return new Promise(function(t,a){(function(e){return console.log("ttttttttttttttttttt"+e),ue("mail/getUnassignedTicket","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},ya=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getAllNotClose","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Ea=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getNewSticket","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},ka=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getPendingSticket","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},wa=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getClosedSticket","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Ca=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getDeletedSticket","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Ta=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/sendMail","POST",{token:e.token,to:e.to,subject:e.subject,content:e.content,typeID:e.typeID,priorityID:e.priorityID,statusID:e.statusID,replyTo:void 0!=e.replyTo?e.replyTo:null})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Sa=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/getMail","POST",{mailId:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Oa=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t){return ue("mail/updateStatus","POST",{mailID:e,statusID:t})})(e,t).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},ja=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t){return ue("mail/updateType","POST",{mailID:e,typeID:t})})(e,t).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},Na=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t){return ue("mail/updatePriority","POST",{mailID:e,priorityID:t})})(e,t).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},Fa=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/deleteMail","POST",{listMailID:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Da=function(e){return{type:"SAVE_LISTMAIL_SELECTED",selectedMailID:e}},Ia=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("mail/countQuantityMail","POST",{token:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Pa=a(25),La=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).onDeleteMail=function(){a.props.doDeleteMail(a.props.selectedMailID).then(function(e){1==e.returnCode&&Pa.ToastStore.success("X\xf3a mail th\xe0nh c\xf4ng!")})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.numSelected,a=e.classes,n=e.tableTitle,i=e.tableTitleSecondary;return o.a.createElement(Je.a,{className:Fe()(a.root)},o.a.createElement(Pa.ToastContainer,{position:Pa.ToastContainer.POSITION.BOTTOM_LEFT,store:Pa.ToastStore}),o.a.createElement("div",{className:a.title},o.a.createElement(ua.a,{id:"tableTitle"},o.a.createElement("div",{className:a.tableTitle},n),o.a.createElement("div",{className:a.tableTitleSecondary},i))),this.props.children,o.a.createElement("div",{className:a.actions},t>0?o.a.createElement("div",{className:a.row},o.a.createElement(da.a,{title:"B\xe1o c\xe1o spam"},o.a.createElement(N.a,{className:a.button},o.a.createElement(ba.a,null))),o.a.createElement(da.a,{title:"X\xf3a"},o.a.createElement(N.a,{className:a.button,onClick:this.onDeleteMail},o.a.createElement(ga.a,null)))):null))}}]),t}(o.a.Component),Ma=Object(w.withStyles)(function(e){return{root:{paddingRight:e.spacing.unit},spacer:{flex:"1 1 50%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},tableTitle:{fontFamily:"Roboto-Medium",fontSize:"20px"},tableTitleSecondary:{fontFamily:"Roboto",fontSize:14,color:"#68737D"},button:{},row:{display:"flex"}}})(Object(h.b)(function(e){return{selectedMailID:e.mail.selectedMailID}},function(e){return{doDeleteMail:function(t){return e(Fa(t))}}})(La)),Ra=a(128),Ua=a.n(Ra),za=a(126),_a=a.n(za),Aa=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("span",{className:e[this.props.status+"Label"]},this.props.status.slice(0,1).toUpperCase())}}]),t}(o.a.Component),Va={newLabel:{padding:"4px",width:"15px",textAlign:"center",fontSize:"9px",lineHeight:"15px",backgroundColor:"#F5CA00",color:"#000000",borderRadius:2},openLabel:{padding:"4px",width:"15px",textAlign:"center",fontSize:"9px",lineHeight:"15px",backgroundColor:"#E82A2A",color:"#FFFFFF",borderRadius:2},pendingLabel:{padding:"4px",width:"15px",textAlign:"center",fontSize:"9px",backgroundColor:"#259ECB",color:"#FFFFFF",borderRadius:2},solvedLabel:{padding:"4px",width:"15px",textAlign:"center",fontSize:"9px",lineHeight:"15px",backgroundColor:"#68737D",color:"#FFFFFF",borderRadius:2}},Ba=E()(Va)(Aa),Ha=a(46),Ga=a.n(Ha);function Wa(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var qa=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={order:"asc",orderBy:"calories",selected:[],page:0,rowsPerPage:10},a.handleRequestSort=function(e,t){var n=t,o="desc";a.state.orderBy===t&&"desc"===a.state.order&&(o="asc"),a.setState({order:o,orderBy:n})},a.handleSelectAllClick=function(e){if(e.target.checked){var t=a.props.tableData.map(function(e){return e.id});return a.setState(function(e){return{selected:t}}),void a.props.doSelectedMail(t)}a.setState({selected:[]})},a.handleClick=function(e,t){console.log("row id: "+t)},a.handleChangePage=function(e,t){a.setState({page:t})},a.isSelected=function(e){return-1!==a.state.selected.indexOf(e)},a.onSelectedChange=function(e){var t=a.state.selected,n=t.indexOf(e),o=[];-1===n?o=o.concat(t,e):0===n?o=o.concat(t.slice(1)):n===t.length-1?o=o.concat(t.slice(0,-1)):n>0&&(o=o.concat(t.slice(0,n),t.slice(n+1))),a.setState({selected:o}),console.log(o),a.props.doSelectedMail(o)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tableHead,i=t.tableTitle,r=t.tableTitleSecondary,l=t.tableData,s=this.state,c=s.order,m=s.orderBy,u=s.selected,p=s.rowsPerPage,d=s.page;Math.min(p,l.length-d*p);return o.a.createElement(M.a,{className:a.root},o.a.createElement(Ma,{numSelected:u.length,tableTitle:i,tableTitleSecondary:r},o.a.createElement(_a.a,{className:a.tablePagination,component:"div",count:l.length,rowsPerPage:p,page:d,labelRowsPerPage:"",rowsPerPageOptions:[],backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage})),o.a.createElement("div",{className:a.tableWrapper},o.a.createElement(Qt.a,{className:a.table,"aria-labelledby":"tableTitle"},o.a.createElement(ca,{numSelected:u.length,order:c,orderBy:m,onSelectAllClick:this.handleSelectAllClick,onRequestSort:this.handleRequestSort,rowCount:l.length,rows:n}),o.a.createElement(Ua.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(l,function(e,t){return"desc"===e?function(e,a){return Wa(e,a,t)}:function(e,a){return-Wa(e,a,t)}}(c,m)).slice(d*p,d*p+p).map(function(t){var a=e.isSelected(t.id);return o.a.createElement(oa.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.id},o.a.createElement(ea.a,{padding:"checkbox"},o.a.createElement(sa.a,{checked:a,onChange:function(){return e.onSelectedChange(t.id)},color:"default"})),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id,padding:"none"},o.a.createElement(Ba,{status:t.status})),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id},t.subject),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id},t.requester),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id},Ga()(t.requestTime).format("DD/MM/YYYY HH:mm")),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id},t.type),o.a.createElement(ea.a,{style:{textDecoration:"none"},button:!0,component:k.a,to:"/agent/ticket/"+t.id},t.priority))})))))}}]),t}(o.a.Component),Za=Object(w.withStyles)(function(e){return{root:{width:"100%",height:"100%"},table:{minWidth:1020},tableWrapper:{overflow:"auto"},tablePagination:{flex:"1 1 50%"}}})(Object(h.b)(function(e){return{}},function(e){return{doSelectedMail:function(t){return e((a=t,function(e){e(Da(a))}));var a}}})(qa)),Ya=a(50),$a=a.n(Ya),Ka=a(51),Xa=a.n(Ka),Qa=a(52),Ja=a.n(Qa),en=a(53),tn=a.n(en),an=a(49),nn=a.n(an),on=a(54),rn=a.n(on);function ln(e){return o.a.createElement(nn.a,Object.assign({direction:"down"},e))}var sn=[{id:1,name:"C\xe2u h\u1ecfi"},{id:2,name:"Bi\u1ebfn c\u1ed1"},{id:3,name:"V\u1ea5n \u0111\u1ec1"},{id:4,name:"C\xf4ng vi\u1ec7c"}],cn=[{id:1,name:"Th\u1ea5p"},{id:2,name:"Trung b\xecnh"},{id:3,name:"Cao"},{id:4,name:"Kh\u1ea9n c\u1ea5p"}],mn=[{id:1,name:"M\u1edbi"},{id:2,name:"M\u1edf"},{id:3,name:"Ch\u1edd duy\u1ec7t"},{id:4,name:"\u0110\xf3ng"}],un=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onValueChange=function(e){"subject"==e.target.id?a.setState({subject:e.target.value}):"outlined-multiline-static"==e.target.id&&a.setState({content:e.target.value})},a.handleChange=function(e){return function(t){console.log(t.target.value),a.setState(Object(g.a)({},e,t.target.value))}},a.handleValidation=function(e,t){return""!=e&&""!=t||(a.setState({openDialog:!0,message:"Ch\u1ee7 \u0111\u1ec1 ho\u1eb7c n\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1)},a.handleClose=function(){a.setState({openDialog:!1})},a.onSendClick=function(){var e={token:sessionStorage.getItem("token"),to:a.state.to,subject:a.state.subject,content:a.state.content,typeID:a.state.type.id,priorityID:a.state.priority.id,statusID:a.state.status.id};a.handleValidation(e.subject,e.content)&&a.props.doSendMail(e).then(function(e){console.log(e),a.setState({content:""}),Pa.ToastStore.success("G\u1eedi mail th\xe0nh c\xf4ng!")}).catch(function(e){console.log(e)})},a.state={token:"",to:"",type:sn[0],priority:cn[0],status:mn[0],subject:"",content:"",openDialog:!1,message:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement($,null,o.a.createElement(Pa.ToastContainer,{position:Pa.ToastContainer.POSITION.BOTTOM_LEFT,store:Pa.ToastStore}),o.a.createElement($a.a,{open:this.state.openDialog,TransitionComponent:ln,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(rn.a,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(Ja.a,null,o.a.createElement(tn.a,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(Xa.a,null,o.a.createElement(pe.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement(K,{xs:12,sm:4,md:4},o.a.createElement(se.a,{id:"requester",label:"Ng\u01b0\u1eddi y\xeau c\u1ea7u",type:"email",name:"requester",className:e.textField,variant:"outlined",value:this.state.to,onChange:this.handleChange("to")}),o.a.createElement("div",{className:e.selectableTextFieldContainer},o.a.createElement(se.a,{id:"select-type",select:!0,label:"Lo\u1ea1i",className:e.selectableTextFieldType,value:this.state.type,onChange:this.handleChange("type"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal",variant:"outlined"},sn.map(function(e){return o.a.createElement(_.a,{key:e.id,value:e},e.name)})),o.a.createElement(se.a,{id:"select-priority",select:!0,label:"\u0110\u1ed9 \u01b0u ti\xean",className:e.selectableTextFieldType,value:this.state.priority,onChange:this.handleChange("priority"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal",variant:"outlined"},cn.map(function(e){return o.a.createElement(_.a,{key:e.id,value:e},e.name)})))),o.a.createElement(K,{xs:12,sm:8,md:8},o.a.createElement(se.a,{id:"subject",label:"Ch\u1ee7 \u0111\u1ec1",type:"text",name:"subject",className:e.rightTextField,variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"outlined-multiline-static",label:"N\u1ed9i dung",multiline:!0,rows:"12",defaultValue:"",className:e.rightTextField,margin:"normal",variant:"outlined",onChange:this.onValueChange}),o.a.createElement("div",{className:e.row},o.a.createElement(Pe,{onClick:this.onSendClick,width:"150px",backgroundColor:"#00bcd4",textColor:"#FFF",content:"G\u1eedi m\u1edbi"})),o.a.createElement("hr",{className:e.line})))}}]),t}(o.a.Component),pn=(Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}}}),Object(w.withStyles)(function(e){return{line:{width:"98%",float:"left",marginLeft:"10px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginTop:"15px",marginLeft:"10px",width:"98%"},rightTextField:{width:"98%",marginTop:"15px",marginLeft:"10px"},selectableTextFieldContainer:{marginTop:"50px",marginLeft:"10px",display:"flex",width:"99%"},selectableTextFieldType:{width:"50%",marginRight:"5px"},selectableTextFieldPriority:{marginLeft:"5px",width:"50%"},menu:{width:200},row:{display:"flex",justifyContent:"flex-end",width:"98%"},button:{width:"150px"},buttonText:{color:"#FFF"}}})(Object(h.b)(null,function(e){return{doSendMail:function(t){return e(Ta(t))}}})(un))),dn=(a(478),a(81)),hn=a.n(dn),gn=hn()("https://fivedesk.herokuapp.com"),fn=[{id:"status",lable:""},{id:"subject",label:"Ch\u1ee7 \u0111\u1ec1"},{id:"requester",label:"Ng\u01b0\u1eddi y\xeau c\u1ea7u"},{id:"requestTime",label:"Th\u1eddi gian"},{id:"type",label:"Lo\u1ea1i"},{id:"priority",label:"\u0110\u1ed9 \u01b0u ti\xean"}],bn=[],xn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onReceiveMessage=function(){console.log("socket incoming mail");var e=sessionStorage.getItem("token");a.props.doCountQuantityMail(e).then(function(e){a.setState({menuItems:e.countMail}),a.getListByKey(a.state.selectedTicketFilterButton,a.state.menuItems[a.state.selectedTicketFilterButton])}).catch(function(e){})},a.onTicketFilterClick=function(e,t){a.getListByKey(e,t)},a.state={selectedTicketFilterButton:0,tableTitle:"Ticket ch\u01b0a gi\u1ea3i quy\u1ebft c\u1ee7a b\u1ea1n",tableTitleSecondary:"0 tickets",menuItems:[{content:"Ticket ch\u01b0a gi\u1ea3i quy\u1ebft c\u1ee7a b\u1ea1n",number:0},{content:"Ticket ch\u01b0a chuy\u1ec3n nh\u01b0\u1ee3ng",number:0},{content:"T\u1ea5t c\u1ea3 ticket ch\u01b0a gi\u1ea3i quy\u1ebft",number:0},{content:"Ticket m\u1edbi",number:0},{content:"Ticket ch\u1edd duy\u1ec7t",number:0},{content:"Ticket \u0111\xe3 ho\xe0n t\u1ea5t",number:0},{content:"Ticket \u0111\xe3 x\xf3a",number:0}]},gn.on("incomingMail",a.onReceiveMessage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"convertData",value:function(e,t){for(var a=[],n=0;n<t.length;n++)a.push({id:t[n].MailId,subject:t[n].Subject,requester:t[n].Request,requestTime:t[n].UpdateTime,type:t[n].MailType,priority:t[n].Priority,status:t[n].Status});return a}},{key:"setStateUpdate",value:function(e,t){this.setState({selectedTicketFilterButton:e,tableTitle:t.content,tableTitleSecondary:t.number+" tickets"})}},{key:"getListByKey",value:function(e,t){var a=this,n=(this.state.userID,sessionStorage.getItem("token"));0==e?this.props.doGetNotCloseByUserID(n).then(function(n){bn=a.convertData("open",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):1==e?this.props.doGetUnassignedTicket(n).then(function(n){bn=a.convertData("new",n.mail),console.log(bn),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):2==e?this.props.doGetAllNotClose(n).then(function(n){bn=a.convertData("open",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):3==e?this.props.doGetNewTicket(n).then(function(n){bn=a.convertData("new",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):4==e?this.props.doGetPendingTicket(n).then(function(n){bn=a.convertData("pending",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):5==e?this.props.doGetClosedSticket(n).then(function(n){bn=a.convertData("solved",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)}):6==e&&this.props.doGetDeletedSticket(n).then(function(n){bn=a.convertData("delete",n.mail),a.setStateUpdate(e,t)}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("token");this.props.doCountQuantityMail(t).then(function(a){e.setState({menuItems:a.countMail}),e.props.doGetNotCloseByUserID(t).then(function(t){bn=e.convertData("open",t.mail),e.setStateUpdate(0,a.countMail[0])}).catch(function(e){console.log(e)})}).catch(function(e){})}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement($,{className:t.gridContainer},o.a.createElement(Pa.ToastContainer,{position:Pa.ToastContainer.POSITION.BOTTOM_LEFT,store:Pa.ToastStore}),o.a.createElement(K,{xs:12,sm:3,md:3},o.a.createElement(Ft.a,{dense:!0},this.state.menuItems.map(function(a,n){return o.a.createElement(It.a,{key:n,role:void 0,dense:!0,button:!0,selected:e.state.selectedTicketFilterButton===n,onClick:function(){return e.onTicketFilterClick(n,a)},className:t.listItem},o.a.createElement(Rt.a,{primary:a.content}),o.a.createElement(pe.i,null,o.a.createElement(pe.k,null,a.number)))}))),o.a.createElement(K,{xs:12,sm:9,md:9,className:t.tableGridItem},o.a.createElement(Za,{tableTitle:this.state.tableTitle,tableTitleSecondary:this.state.tableTitleSecondary,tableHead:fn,tableData:bn})))}}]),t}(o.a.Component),vn=E()({gridContainer:{},listItem:{margin:" 0px 15px"}})(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{doGetNotCloseByUserID:function(t){return e(xa(t))},doGetUnassignedTicket:function(t){return e(va(t))},doGetAllNotClose:function(t){return e(ya(t))},doGetNewTicket:function(t){return e(Ea(t))},doGetPendingTicket:function(t){return e(ka(t))},doGetClosedSticket:function(t){return e(wa(t))},doGetDeletedSticket:function(t){return e(Ca(t))},doCountQuantityMail:function(t){return e(Ia(t))}}})(xn));var yn=E()({grid:{padding:"0"}})(function(e){var t=Object(q.a)({},e),a=t.classes,n=t.children,i=Object(b.a)(t,["classes","children"]);return o.a.createElement(Y.a,Object.assign({item:!0},i,{className:a.grid}),n)}),En=a(129),kn=a.n(En),wn=a(244),Cn=a.n(wn),Tn=(a(217),a(243)),Sn=a.n(Tn),On=a(245),jn=a.n(On),Nn=function(){return function(e){return new Promise(function(e,t){(function(e){return ue("chat/getListTopic","POST",{token:e})})(sessionStorage.getItem("token")).then(function(t){console.log(t),e(t)}).catch(function(e){console.log(e)})})}},Fn=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("chat/getTopic","POST",{topicID:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Dn=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t){return ue("chat/transferTopic","POST",{topicID:e,servicerID:t})})(e,t).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},In=function(e,t){return function(a){return new Promise(function(a,n){(function(e,t){return ue("chat/updateUnreadMessage","POST",{topicID:e,unreadCount:t})})(e,t).then(function(e){console.log(e),a(e)}).catch(function(e){console.log(e)})})}},Pn=function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("chat/seenMessage","POST",{topicID:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}},Ln=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){try{var e,t=this.props.content.split(/\s/);e=t.map(function(e,a){var n=a!==t.length-1?" ":"";return e.match(/^(https?:\/\/)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/)?o.a.createElement("a",{href:e},e,n):e+n})}catch(a){return this.props.content}return o.a.createElement(ua.a,Object.assign({},this.props,{style:this.props.me?{color:"#FFF"}:{color:"#000"}}),e)}}]),t}(o.a.Component),Mn=a(242),Rn=a.n(Mn),Un=(a(554),a(555),function(e){return function(t){return new Promise(function(t,a){(function(e){return ue("visitor/getVisitorInfo","POST",{visitorID:e})})(e).then(function(e){console.log(e),t(e)}).catch(function(e){console.log(e)})})}}),zn=function(e,t,a,n){return function(o){return new Promise(function(o,i){(function(e,t,a,n){return ue("visitor/updateVisitorInfo","POST",{visitorID:e,email:t,notes:a,phoneNumber:n})})(e,t,a,n).then(function(e){console.log(e),o(e)}).catch(function(e){console.log(e)})})}},_n=hn()("https://fivedesk.herokuapp.com");Ha.locale("vi");function An(e){return o.a.createElement(pe.j,Object.assign({direction:"down"},e))}var Vn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).toggleDrawer=function(e,t){return function(){a.setState(Object(g.a)({},e,t))}},a.onTopicClick=function(e,t){a.setState({listMessage:null,topic:e,selectedVisitorIndex:t,visitor:null,notifyUpdateVisitor:null}),console.log("TopicID: "+e.TopicID),a.props.doGetTopic(e.TopicID).then(function(e){console.log("set state"),a.setState({listMessage:e.topic})}).catch(function(e){console.log(e)}),a.props.doGetVisitorInfo(e.TopicID).then(function(e){console.log(e),a.setState({visitor:e.visitor})}).catch(function(e){console.log(e)}),e.ServicerID==a.props.userProfile.UserID&&(a.props.doSeenMessage(e.TopicID).then(function(e){console.log("Update seen message"),console.log(e)}).catch(function(e){console.log(e)}),a.props.doUpdateUnreadMessageCount(e.TopicID,0).then(function(e){console.log("Update unread message count"),console.log(e),a.props.doGetListTopic().then(function(e){console.log("doGetListTopic"),console.log(e),a.setState({listTopic:e.listTopic})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)}))},a.onAcceptClick=function(e){a.props.doTransferTopic(e.TopicID,a.props.userProfile.UserID).then(function(e){a.props.doGetListTopic().then(function(e){console.log("doGetListTopic"),console.log(e),a.setState({listTopic:e.listTopic});var t=e.listTopic.filter(function(e){return e.TopicID==a.state.topic.TopicID})[0],n=e.listTopic.indexOf(t);a.onTopicClick(t,n)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},a.onTransferClick=function(){a.setState({open:!0})},a.onContentChange=function(e){a.setState({content:e.target.value})},a.onSendMessage=function(){var e={token:sessionStorage.getItem("token"),TopicID:a.state.topic.TopicID,SenderID:a.props.userProfile.UserID,RecieverID:a.state.visitor.VisitorID,Content:a.state.content,SendTime:(new Date).getTime(),TypeID:1,LastMassageSendTime:(new Date).getTime(),VisitorName:a.state.topic.VisitorName,ServicerID:a.props.userProfile.UserID,CompanyID:a.props.userProfile.CompanyID};a.setState({content:""}),console.log("G\u1eedi tin nh\u1eafn \u0111i server v\u1edbi n\u1ed9i dung l\xe0: message"),_n.emit("chat message",e)},a.onReceiveMessage=function(e){if(console.log("Nh\u1eadn tin nh\u1eafn t\u1eeb server"),console.log(e),e.TopicID==a.state.topic.TopicID){var t=a.state.listMessage;t.push(e),a.setState({listMessage:t})}a.props.doGetListTopic().then(function(e){console.log("doGetListTopic"),console.log(e),a.setState({listTopic:e.listTopic})}).catch(function(e){console.log(e)})},a.handleChange=function(e){if(void 0!=e.target){var t=a.state.visitor;"email"==e.target.id&&(t.Email=e.target.value),"phoneNumber"==e.target.id&&(t.PhoneNumber=e.target.value),"note"==e.target.id&&(t.Notes=e.target.value),a.setState({visitor:t})}},a.handleValidation=function(e){if(""==e.Email||""==e.PhoneNumber||""==e.Notes)return a.setState({openDialog:!0,messageDialog:"C\xe1c tr\u01b0\u1eddng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1;if(""!==e.Email){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.Email))return a.setState({openDialog:!0,messageDialog:"Email kh\xf4ng h\u1ee3p l\u1ec7"}),!1}return!0},a.handleClose=function(){a.setState({openDialog:!1})},a.onUpdateVisitorInfo=function(e){a.handleValidation(e)&&(a.props.doUpdateVisitorInfo(e.VisitorID,e.Email,e.Notes,e.PhoneNumber).then(function(e){console.log(e),a.setState({notifyUpdateVisitor:e})}).catch(function(e){console.log(e)}),setTimeout(a.clearNotify,3e3))},a.clearNotify=function(){a.setState({notifyUpdateVisitor:null})},a.onUserClick=function(e){a.setState({open:!1}),a.props.doTransferTopic(a.state.topic.TopicID,e.UserID).then(function(e){a.props.doGetListTopic().then(function(e){console.log("doGetListTopic"),console.log(e),a.setState({listTopic:e.listTopic});var t=e.listTopic.filter(function(e){return e.TopicID==a.state.topic.TopicID})[0],n=e.listTopic.indexOf(t);a.onTopicClick(t,n)}).catch(function(e){console.log(e)})})},a.handleClose=function(){a.setState({open:!1})},a.state={open:!1,right:!1,selectedVisitorIndex:0,topic:null,visitor:null,listTopic:[{CompanyID:1,IsDelete:0,LastMessageSendTime:1541349185313,ServicerID:1,TopicID:"127.0.0.3",UnreadMessageCount:0,VisitorName:"User02"}],listMessage:null,listUser:null,notifyUpdateVisitor:null,content:"",openDialog:!1,messageDialog:""},_n.on("chat message",function(e){return a.onReceiveMessage(e)}),_n.on("time",function(e){console.log("Server time: "+e)}),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.userProfile),this.props.doGetListTopic().then(function(t){console.log("doGetListTopic"),console.log(t),e.setState({listTopic:t.listTopic}),e.onTopicClick(t.listTopic[0],0)}).catch(function(e){console.log(e)}),this.props.doGetListUser().then(function(t){console.log("doGetListUser"),console.log(t),e.setState({listUser:t.users})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return null!=this.props.userProfile?o.a.createElement("div",{className:t.root},o.a.createElement(pe.b,{open:this.state.openDialog,TransitionComponent:An,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(pe.f,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(pe.d,null,o.a.createElement(pe.e,{id:"alert-dialog-slide-description"},this.state.messageDialog)),o.a.createElement(pe.c,null,o.a.createElement(T.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement(pe.b,{fullWidth:!0,onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:this.state.open},o.a.createElement(pe.k,{style:{marginLeft:10,fontFamily:"Roboto-Medium",fontSize:20}},"Danh s\xe1ch th\xe0nh vi\xean"),o.a.createElement(Ft.a,{dense:!0},this.state.listUser&&this.state.listUser.map(function(a,n){return a.UserID!=e.props.userProfile.UserID?o.a.createElement(It.a,{key:n,role:void 0,dense:!0,button:!0,onClick:function(){return e.onUserClick(a)},className:t.listItem},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(nt,{content:a.FirstName,colorString:a.Email}),o.a.createElement(pe.k,{style:{marginLeft:10}},(null!=a.FirstName?a.FirstName:"")+(null!=a.FirstName?" ":"")+a.LastName))):null}))),o.a.createElement($,null,o.a.createElement(yn,{xs:4,sm:4,md:3},o.a.createElement("div",{className:t.left},o.a.createElement(Ft.a,{dense:!0},this.state.listTopic&&this.state.listTopic.map(function(a,n){var i;return o.a.createElement(It.a,{key:n,role:void 0,dense:!0,button:!0,selected:e.state.selectedVisitorIndex===n,onClick:function(){return e.onTopicClick(a,n)},className:t.listItem},o.a.createElement("div",null,o.a.createElement(nt,{content:a.VisitorName,colorString:a.VisitorName})),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:"100%"}},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular",fontSize:15,color:"#000",marginLeft:10}},a.VisitorName),o.a.createElement(pe.k,{style:(i={width:12,height:12,borderRadius:6,marginLeft:"auto",backgroundColor:a.UnreadMessageCount>0?"red":"transparent"},Object(g.a)(i,"marginLeft",10),Object(g.a)(i,"fontFamily","Roboto-Regular"),Object(g.a)(i,"fontSize",10),Object(g.a)(i,"textAlign","center"),Object(g.a)(i,"color","#FFF"),i)},a.UnreadMessageCount>0?a.UnreadMessageCount:null)))})))),o.a.createElement(yn,{xs:8,sm:8,md:6},o.a.createElement("div",{className:t.center},o.a.createElement("div",{className:t.top},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular"}},this.state.topic?this.state.topic.VisitorName:null),this.state.topic&&this.state.topic.ServicerID==this.props.userProfile.UserID?o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(da.a,{title:"Chuy\u1ec3n tin nh\u1eafn",placement:"top"},o.a.createElement(pe.h,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:10,alignItems:"center",justifyContent:"center"},onClick:function(){return e.onTransferClick()}},o.a.createElement(Sn.a,{style:{color:"#000"}})))):null),o.a.createElement(Rn.a,{className:t.chat,ref:function(t){return e.messageList=t}},this.state.listMessage&&this.state.listMessage.map(function(a,n){e.state.listMessage[n-1];return a.SenderID!=e.props.userProfile.UserID?o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},key:n},o.a.createElement(da.a,{title:Ha(a.SendTime).calendar(),placement:"right"},o.a.createElement("div",{className:t.bubble_y,style:{backgroundColor:isNaN(a.SenderID)?"#eaeaeb'":"#23ce3f"}},o.a.createElement("div",{className:t.b_you},o.a.createElement(Ln,{me:!1,content:a.Content}))))):o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},key:n},o.a.createElement(da.a,{title:Ha(a.SendTime).calendar(),placement:"left"},o.a.createElement("div",{className:t.bubble_m},o.a.createElement("div",{className:t.me},o.a.createElement(Ln,{me:!0,content:a.Content})))))})),this.state.topic&&this.state.topic.ServicerID==this.props.userProfile.UserID?o.a.createElement("div",{className:t.chatBottom},o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(se.a,{id:"outlined-bare",value:this.state.content,onChange:this.onContentChange,className:t.chatTextField,variant:"outlined",InputProps:{endAdornment:o.a.createElement(kn.a,{position:"end"},o.a.createElement(pe.h,{onClick:this.onSendMessage,disabled:""==this.state.content},o.a.createElement(Cn.a,null)))}}))):o.a.createElement("div",{className:t.chatBottom},o.a.createElement(pe.k,{className:t.servicerNotify},this.state.topic&&null==this.state.topic.ServicerID?"Kh\xe1ch h\xe0ng ch\u01b0a \u0111\u01b0\u1ee3c ai ph\u1ee5 tr\xe1ch":"Kh\xe1ch h\xe0ng \u0111\xe3 c\xf3 ng\u01b0\u1eddi ph\u1ee5 tr\xe1ch"),this.state.topic&&null==this.state.topic.ServicerID?o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(T.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return e.onAcceptClick(e.state.topic)}},"Ch\u1ea5p nh\u1eadn")):null))),o.a.createElement(yn,{xs:0,sm:0,md:3},o.a.createElement(O.a,{smDown:!0,implementation:"css"},o.a.createElement("div",{className:t.right},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular",fontSize:20,textAlign:"center",paddingTop:10}}," Th\xf4ng tin kh\xe1ch h\xe0ng "),o.a.createElement(se.a,{disabled:!0,id:"visitor",label:"T\xean kh\xe1ch h\xe0ng",className:t.textField,value:this.state.visitor?this.state.visitor.Name:"",onChange:this.handleChange,margin:"normal",variant:"outlined"}),o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(se.a,{id:"email",label:"Email",className:t.textField,value:this.state.visitor?this.state.visitor.Email:"",onChange:this.handleChange,margin:"normal",variant:"outlined"})),o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(se.a,{id:"phoneNumber",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:t.textField,value:this.state.visitor?this.state.visitor.PhoneNumber:"",onChange:this.handleChange,margin:"normal",variant:"outlined"})),o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(se.a,{multiline:!0,rows:"4",id:"note",label:"Ghi ch\xfa",className:t.textField,value:this.state.visitor?this.state.visitor.Notes:"",onChange:this.handleChange,margin:"normal",variant:"outlined"})),this.state.topic&&this.state.topic.ServicerID==this.props.userProfile.UserID?o.a.createElement(w.MuiThemeProvider,{theme:Bn},o.a.createElement(T.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return e.onUpdateVisitorInfo(e.state.visitor)}},"C\u1eadp nh\u1eadt")):null,o.a.createElement(pe.k,{style:{textAlign:"center",color:this.state.notifyUpdateVisitor&&1==this.state.notifyUpdateVisitor.returnCode?"green":"red"}},this.state.notifyUpdateVisitor&&this.state.notifyUpdateVisitor.message)))))):null}}]),t}(o.a.Component),Bn=Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"},secondary:jn.a},typography:{useNextVariants:!0}}),Hn=Object(w.withStyles)(function(e){return{grid:{padding:"0 !important"},servicerNotify:{fontFamily:"Roboto-Regular",textAlign:"center",color:"#00bcd4",fontSize:15},chatBottom:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},button:{margin:10,color:"#FFF"},navIconHide:Object(g.a)({},e.breakpoints.up("md"),{display:"none"}),root:{width:"95%",marginLeft:"auto",marginRight:"auto",display:"block"},menuItem:{"&:focus":{backgroundColor:e.palette.primary.main,"& $primary":{color:e.palette.common.white}}},primary:{},left:{border:"1px solid #e6e6e6",height:"608px",overflow:"auto"},center:{border:"1px solid #e6e6e6",height:"608px"},right:{border:"1px solid #e6e6e6",height:"608px",display:"flex",flexDirection:"column"},chat:{height:"490px",width:"100%",overflow:"auto",marginBottom:10},img:{borderRadius:"20px",width:"40px",height:"40px"},top:{height:"21px",paddingTop:"15px",paddingBottom:"15px",paddingLeft:"29px",backgroundColor:"#eceff1",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},chatTextField:{width:"100%"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},bubble_y:{fontSize:"16px",position:"relative",display:"inline-block",padding:"10px",borderRadius:"5px",border:"1px solid #eaeaeb",minWidth:"20%",maxWidth:"70%",marginLeft:"10px",marginTop:"10px"},bubble_m:{fontSize:"16px",display:"inline-block",padding:"10px",borderRadius:"5px",border:"1px solid #00b0ff",backgroundColor:"#00b0ff",minWidth:"20%",maxWidth:"70%",marginRight:"10px",marginTop:"10px",float:"right"},b_you:{maxWidth:"100%",color:"#fff",alignSelf:"flex-start"},b_me:{float:"right",color:"#1a1a1a",maxWidth:"100%",backgroundColor:"#eceff1",alignSelf:"flex-end"},list:{width:"200px"}}})(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{doSeenMessage:function(t){return e(Pn(t))},doUpdateUnreadMessageCount:function(t,a){return e(In(t,a))},doGetListTopic:function(){return e(Nn())},doGetTopic:function(t){return e(Fn(t))},doGetVisitorInfo:function(t){return e(Un(t))},doGetListUser:function(){return e(ye())},doUpdateVisitorInfo:function(t,a,n,o){return e(zn(t,a,n,o))},doTransferTopic:function(t,a){return e(Dn(t,a))}}})(Vn)),Gn=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"B\xe1o c\xe1o"))}}]),t}(o.a.Component);function Wn(e){return o.a.createElement(pe.j,Object.assign({direction:"down"},e))}var qn=function(e){function t(e){var a,n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleChange=function(e){return function(t){console.log(t.target.value),n.setState(Object(g.a)({},e,t.target.value))}},n.handleClose=function(){n.setState({open:!1})},n.handleCloseDiaglog=function(){n.setState({openDialog:!1})},n.onValueChange=function(e){"txtFirstName"==e.target.id?n.setState({firstname:e.target.value}):"txtLastName"==e.target.id?n.setState({lastname:e.target.value}):"txtEmail"==e.target.id?n.setState({email:e.target.value}):"txtPassword"==e.target.id?n.setState({password:e.target.value}):"txtRePassword"==e.target.id&&n.setState({rePassword:e.target.value})},n.handleValidation=function(e){if(""==e.email||""==e.password||""==e.firstname||""==e.lastname)return n.setState({openDialog:!0,message:"C\xe1c tr\u01b0\u1eddng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1;if(""!==e.email){if(!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e.email))return n.setState({openDialog:!0,message:"Email kh\xf4ng h\u1ee3p l\u1ec7"}),!1}return!0},n.onAddUser=function(){var e={email:n.state.email,password:n.state.password,firstname:n.state.firstname,lastname:n.state.lastname,companyID:n.props.userProfile.CompanyID};n.handleValidation(e)&&n.props.doAddUser(e).then(function(e){console.log(e),n.props.doGetListUser().then(function(e){console.log("doGetListUser111111"),console.log(e),n.setState({listUser:e.users})}).catch(function(e){console.log(e)}),n.setState({open:!1})}).catch(function(e){console.log(e)})},n.onShowDialog=function(){n.setState({open:!0})},n.state=(a={listUser:null,isDialogOpen:!1,open:!1,email:"",password:"",firstname:"",lastname:""},Object(g.a)(a,"password",""),Object(g.a)(a,"rePassword",""),Object(g.a)(a,"openDialog",!1),Object(g.a)(a,"message",""),a),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.doGetListUser().then(function(t){console.log("doGetListUser111111"),console.log(t),e.setState({listUser:t.users})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return null!=this.props.userProfile?o.a.createElement($,null,o.a.createElement(pe.b,{open:this.state.openDialog,TransitionComponent:Wn,keepMounted:!0,onClose:this.handleCloseDiaglog,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(pe.f,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(pe.d,null,o.a.createElement(pe.e,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(pe.c,null,o.a.createElement(pe.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement(pe.b,{onClose:this.handleClose,"aria-labelledby":"simple-dialog-title",open:this.state.open},o.a.createElement(pe.f,{id:"simple-dialog-title"},"Th\xeam th\xe0nh vi\xean"),o.a.createElement("div",{style:{display:"flex",padding:10,flexDirection:"column",alignItems:"flex-end"}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},o.a.createElement(se.a,{id:"txtFirstName",label:"H\u1ecd",style:{width:"50%",marginRight:5},margin:"dense",variant:"outlined",value:this.state.FirstName,onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtLastName",label:"T\xean",style:{width:"50%",marginLeft:5},margin:"dense",variant:"outlined",value:this.state.LastName,onChange:this.onValueChange})),o.a.createElement(se.a,{id:"txtEmail",label:"Email",style:{width:"100%"},margin:"dense",variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtPassword",label:"M\u1eadt kh\u1ea9u",type:"password",style:{width:"100%"},margin:"dense",variant:"outlined",onChange:this.onValueChange}),o.a.createElement(se.a,{id:"txtRePassword",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",style:{width:"100%"},margin:"dense",variant:"outlined",onChange:this.onValueChange}),o.a.createElement(w.MuiThemeProvider,{theme:Zn},o.a.createElement(pe.a,{style:{marginTop:10},variant:"contained",color:"primary",onClick:this.onAddUser},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular",fontSize:15,color:"#FFF"}},"Th\xeam th\xe0nh vi\xean"))))),o.a.createElement(K,null,o.a.createElement("div",{className:t.gridItem},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(pe.k,{component:"h3",variant:"2",gutterBottom:!0,className:t.title},"Th\xe0nh vi\xean (",null==this.state.listUser?0:this.state.listUser.length,"/20)"),o.a.createElement(pe.a,{onClick:this.onShowDialog,style:{marginLeft:10}},o.a.createElement(pe.k,{style:{color:"#00bcd4"}},"Th\xeam"))),o.a.createElement("div",null,o.a.createElement(pe.g,{cellHeight:60,cols:4,className:t.gridList},this.state.listUser&&this.state.listUser.map(function(a,n){return o.a.createElement(It.a,{key:n,button:!0,component:k.a,to:"/agent/member/profile/"+a.UserID,className:t.listItem},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement(nt,{content:null!=a.FirstName?a.FirstName:null,colorString:a.Email}),o.a.createElement(pe.k,{style:{marginLeft:10,fontFamily:"Roboto-Regular",fontSize:15}},(null!=a.FirstName?a.FirstName:"")+(null!=a.FirstName?" ":"")+a.LastName),a.UserID==e.props.userProfile.UserID?o.a.createElement(pe.k,{style:{marginLeft:10,fontFamily:"Roboto-Regular",fontSize:15,color:"gray"}},"Ch\u1ec9nh s\u1eeda"):null))})))))):null}}]),t}(o.a.Component),Zn=Object(w.createMuiTheme)({palette:{primary:{main:"#00bcd4"}},typography:{useNextVariants:!0}}),Yn=Object(w.withStyles)(function(e){var t,a,n;return{gridList:{},listItem:{padding:10},gridItem:{overflow:"auto",height:"85vh"},title:{color:"#47525E",paddingLeft:"20px",fontFamily:"Roboto-Medium",fonrSize:5},TextField_0:(t={display:"flex",flexDirection:"row"},Object(g.a)(t,e.breakpoints.up("md"),{width:"98.5%"}),Object(g.a)(t,e.breakpoints.down("sm"),{width:"60%"}),Object(g.a)(t,e.breakpoints.down("xs"),{width:"79%"}),t),textField_1:(a={marginBottom:5,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},Object(g.a)(a,e.breakpoints.down("sm"),{width:"58.5%"}),Object(g.a)(a,e.breakpoints.up("md"),{width:"95%"}),Object(g.a)(a,e.breakpoints.down("xs"),{width:"74.5%"}),a),textField_2:(n={marginBottom:5,marginLeft:e.spacing.unit,marginRight:e.spacing.unit,fontSize:16,fontFamily:"Roboto-Regular"},Object(g.a)(n,e.breakpoints.down("sm"),{width:"58.5%"}),Object(g.a)(n,e.breakpoints.up("md"),{width:"95%"}),Object(g.a)(n,e.breakpoints.down("xs"),{width:"74.5%"}),n),selectableTextFieldContainer:{marginTop:"5px",marginLeft:"10px",display:"flex",width:"96%"},selectableTextFieldType:{width:"950%",marginRight:"5px"},button:{width:"150px",marginLeft:"320px"}}})(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{doAddUser:function(t){return e(Ce(t))},doGetListUser:function(){return e(ye())}}})(qn)),$n=a(130),Kn=a.n($n),Xn=a(99),Qn=a.n(Xn),Jn=a(131),eo=a.n(Jn),to=a(157),ao=a.n(to);function no(e){return o.a.createElement(nn.a,Object.assign({direction:"down"},e))}var oo=[{id:1,name:"Th\u1ea5p"},{id:2,name:"Trung b\xecnh"},{id:3,name:"Cao"},{id:4,name:"Kh\u1ea9n c\u1ea5p"}],io=[{id:1,name:"C\xe2u h\u1ecfi"},{id:2,name:"Bi\u1ebfn c\u1ed1"},{id:3,name:"V\u1ea5n \u0111\u1ec1"},{id:4,name:"C\xf4ng vi\u1ec7c"}],ro=[{id:1,name:"M\u1edbi"},{id:2,name:"M\u1edf"},{id:3,name:"Ch\u1edd duy\u1ec7t"},{id:4,name:"\u0110\xf3ng"}],lo=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onValueChange=function(e){"subject"==e.target.id?a.setState({subject:e.target.value}):"outlined-multiline-static"==e.target.id&&a.setState({content:e.target.value})},a.handleChange=function(e){return function(t){console.log(t.target.value),a.setState(Object(g.a)({},e,t.target.value)),"status"==e&&a.props.doUpdateMailStatus(a.state.mailID,t.target.value.id).then(function(e){Pa.ToastStore.success("C\u1eadp nh\u1eadt t\xecnh tr\u1ea1ng th\xe0nh c\xf4ng!")}).catch(function(e){}),"type"==e&&a.props.doUpdateMailType(a.state.mailID,t.target.value.id).then(function(e){Pa.ToastStore.success("C\u1eadp nh\u1eadt lo\u1ea1i mail th\xe0nh c\xf4ng!")}).catch(function(e){}),"priority"==e&&a.props.doUpdateMailPriority(a.state.mailID,t.target.value.id).then(function(e){Pa.ToastStore.success("C\u1eadp nh\u1eadt \u0111\u1ed9 \u01b0u ti\xean th\xe0nh c\xf4ng!")}).catch(function(e){})}},a.handleValidation=function(e,t){return""!=e&&""!=t||(a.setState({openDialog:!0,message:"Ch\u1ee7 \u0111\u1ec1 ho\u1eb7c n\u1ed9i dung kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"}),!1)},a.handleClose=function(){a.setState({openDialog:!1})},a.onSendClick=function(){var e={token:sessionStorage.getItem("token"),to:a.state.rootMail.Request,subject:a.state.rootMail.Subject,content:a.state.content,typeID:a.state.type.id,priorityID:a.state.priority.id,statusID:a.state.status.id,replyTo:a.state.mailID};a.handleValidation(e.subject,e.content)&&a.props.doSendMail(e).then(function(e){console.log(e),a.setState({content:""}),Pa.ToastStore.success("G\u1eedi mail th\xe0nh c\xf4ng!")}).catch(function(e){console.log(e)})},a.state={token:"",to:"",type:io[0],priority:oo[0],status:ro[0],subject:"",content:"",openDialog:!1,message:"",mailID:a.props.match.params.mailID,listMail:null,rootMail:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.doGetMail(this.state.mailID).then(function(t){console.log("doGetMail",t);var a=t.listMail,n=a[a.length-1];e.setState({rootMail:n,type:io[n.TypeID-1],priority:oo[n.PriorityId-1],status:ro[n.StatusId-1]}),a.map(function(t){"C"!=t.MailId[1]?e.props.doGetUserInfo(t.UserID).then(function(n){console.log("doGetUserInfo",n.user);var o=n.user;t.Fullname=o.FirstName+" "+o.LastName,t.Email=o.Email,console.log("new maillist",a),e.setState({listMail:a})}).catch(function(e){console.log(e)}):e.setState({listMail:a})})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.props.classes;return null==this.state.rootMail?null:o.a.createElement($,null,o.a.createElement(Pa.ToastContainer,{position:Pa.ToastContainer.POSITION.BOTTOM_LEFT,store:Pa.ToastStore}),o.a.createElement($a.a,{open:this.state.openDialog,TransitionComponent:no,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(rn.a,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(Ja.a,null,o.a.createElement(tn.a,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(Xa.a,null,o.a.createElement(pe.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement(K,{xs:12,sm:4,md:4},o.a.createElement(se.a,{id:"requester",label:"Ng\u01b0\u1eddi y\xeau c\u1ea7u",type:"email",name:"requester",className:e.textField,variant:"outlined",value:this.state.rootMail.Request,disabled:!0,onChange:this.handleChange("to")}),o.a.createElement("div",{className:e.selectableTextFieldContainer},o.a.createElement(se.a,{id:"select-type",select:!0,label:"Lo\u1ea1i",className:e.selectableTextFieldType,value:this.state.type,onChange:this.handleChange("type"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal",variant:"outlined"},io.map(function(e){return o.a.createElement(_.a,{key:e.id,value:e},e.name)})),o.a.createElement(se.a,{id:"select-priority",select:!0,label:"\u0110\u1ed9 \u01b0u ti\xean",className:e.selectableTextFieldType,value:this.state.priority,onChange:this.handleChange("priority"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal",variant:"outlined"},oo.map(function(e){return o.a.createElement(_.a,{key:e.id,value:e},e.name)}))),o.a.createElement(se.a,{id:"select-status",select:!0,label:"T\xecnh tr\u1ea1ng",className:e.textField,value:this.state.status,onChange:this.handleChange("status"),SelectProps:{MenuProps:{className:e.menu}},margin:"normal",variant:"outlined"},ro.map(function(e){return o.a.createElement(_.a,{key:e.id,value:e},e.name)}))),o.a.createElement(K,{xs:12,sm:8,md:8},o.a.createElement(se.a,{id:"subject",label:"Ch\u1ee7 \u0111\u1ec1",type:"text",name:"subject",className:e.rightTextField,variant:"outlined",value:this.state.rootMail.Subject,disabled:!0,onChange:this.onValueChange}),o.a.createElement(se.a,{id:"outlined-multiline-static",label:"N\u1ed9i dung",multiline:!0,rows:"12",defaultValue:"",className:e.rightTextField,margin:"normal",variant:"outlined",onChange:this.onValueChange}),o.a.createElement("div",{className:e.row},o.a.createElement(Pe,{onClick:this.onSendClick,width:"150px",backgroundColor:"#00bcd4",textColor:"#FFF",content:"G\u1eedi"})),o.a.createElement("hr",{className:e.line}),null!=this.state.listMail?this.state.listMail.map(function(t,a){return o.a.createElement(Kn.a,{className:e.card},"C"!=t.MailId[1]?o.a.createElement(Qn.a,{avatar:o.a.createElement(nt,{content:t.Fullname,colorString:t.Email}),title:t.Fullname,subheader:Ga()(t.UpdateTime).format("DD/MM/YYYY HH:mm")}):o.a.createElement(Qn.a,{avatar:o.a.createElement(nt,{content:t.Request,colorString:t.Request}),title:t.Request,subheader:Ga()(t.UpdateTime).format("DD/MM/YYYY HH:mm")}),o.a.createElement(eo.a,null,o.a.createElement(pe.k,{component:"p"},t.Content)))}):null))}}]),t}(o.a.Component),so={line:{width:"98%",float:"left",marginLeft:"10px"},container:{display:"flex",flexWrap:"wrap"},textField:{marginTop:"15px",marginLeft:"10px",width:"98%"},rightTextField:{width:"98%",marginTop:"15px",marginLeft:"10px"},selectableTextFieldContainer:{marginTop:"50px",marginLeft:"10px",display:"flex",width:"99%"},selectableTextFieldType:{width:"50%",marginRight:"5px"},selectableTextFieldPriority:{marginLeft:"5px",width:"50%"},menu:{width:200},row:{display:"flex",justifyContent:"flex-end",width:"98%"},button:{width:"150px"},buttonText:{color:"#FFF"},card:{float:"left",marginLeft:"10px",marginTop:"25px",width:"98%",border:"1px solid #ccc"},avatar:{backgroundColor:ao.a[500]}},co=E()(so)(Object(h.b)(null,function(e){return{doGetMail:function(t){return e(Sa(t))},doGetUserInfo:function(t){return e(Ee(t))},doSendMail:function(t){return e(Ta(t))},doUpdateMailStatus:function(t,a){return e(Oa(t,a))},doUpdateMailType:function(t,a){return e(ja(t,a))},doUpdateMailPriority:function(t,a){return e(Na(t,a))}}})(lo)),mo=[{path:"/agent/ticket",sidebarName:"Ticket",navbarName:"Mail ticket",icon:Gt.a,component:vn},{path:"/agent/chat",sidebarName:"Chat",navbarName:"Live chat",icon:qt.a,component:Hn},{path:"/agent/member",sidebarName:"Th\xe0nh vi\xean",navbarName:"Th\xe0nh vi\xean",icon:Kt.a,component:Yn},{path:"/agent/reporting",sidebarName:"B\xe1o c\xe1o",navbarName:"B\xe1o c\xe1o",icon:Yt.a,component:Gn},{redirect:!0,path:"/agent",to:"/agent/ticket",navbarName:"Mail ticket"}],uo=a(250),po=a.n(uo),ho=a(251),go=a.n(ho);function fo(e){return o.a.createElement(nn.a,Object.assign({direction:"down"},e))}var bo=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.onValueChange=function(e){"txtFirstName"==e.target.id?a.setState({FirstName:e.target.value}):"txtLastName"==e.target.id?a.setState({LastName:e.target.value}):"txtPhone"==e.target.id?a.setState({Phone:e.target.value}):"txtOld_password"==e.target.id?a.setState({Old_password:e.target.value}):"txtNew_password"==e.target.id?a.setState({New_password:e.target.value}):"txtRetype_password"==e.target.id&&a.setState({Retype_password:e.target.value})},a.onUpdateClick=function(e,t,n){""==e&&(e=a.state.FirstName),""==t&&(t=a.state.LastName),""==n&&(n=a.state.Phone),a.props.doupdateProfile(e,t,n).then(function(e){a.setState({openDialog_update:!0,message:e.message}),"1"==e.returnCode&&a.props.doGetUserInfo(a.state.userID).then(function(e){a.setState({user:e.user,FirstName:e.user.FirstName,LastName:e.user.LastName,CompanyName:e.user.CompanyName,Email:e.user.Email,Phone:e.user.PhoneNumber})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},a.onChangePassword=function(e,t){a.state.New_password!==a.state.Retype_password?a.setState({openDialog_changePassword:!0,message:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}):a.props.doChangePassword(e,t).then(function(e){a.setState({openDialog_changePassword:!0,message:e.message})}).catch(function(e){console.log(e)})},a.handleClose=function(){a.setState({openDialog_login:!1,openDialog_update:!1,openDialog_changePassword:!1})},a.state={FirstName:"",LastName:"",Phone:"",CompanyName:"",CompanyEmail:"",Email:"",Old_password:"",New_password:"",Retype_password:"",openDialog_login:!1,openDialog_update:!1,openDialog_changePassword:!1,message:"",user:null,userID:a.props.match.params.userID,currentUser:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.doGetUserInfo(this.state.userID).then(function(t){e.setState({user:t.user,FirstName:t.user.FirstName,LastName:t.user.LastName,CompanyName:t.user.CompanyName,Email:t.user.Email,Phone:t.user.PhoneNumber,CompanyEmail:t.user.CompanyEmail})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.props.classes;return null!=this.props.userProfile?o.a.createElement("div",{className:t.root},o.a.createElement($a.a,{open:this.state.openDialog_update,TransitionComponent:fo,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(rn.a,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(Ja.a,null,o.a.createElement(tn.a,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(Xa.a,null,o.a.createElement(T.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement($a.a,{open:this.state.openDialog_changePassword,TransitionComponent:fo,keepMounted:!0,onClose:this.handleClose,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},o.a.createElement(rn.a,{id:"alert-dialog-slide-title"},"Th\xf4ng b\xe1o"),o.a.createElement(Ja.a,null,o.a.createElement(tn.a,{id:"alert-dialog-slide-description"},this.state.message)),o.a.createElement(Xa.a,null,o.a.createElement(T.a,{onClick:this.handleClose,color:"primary"},"X\xe1c nh\u1eadn"))),o.a.createElement($,null,o.a.createElement(K,{xs:12,sm:12,md:7},o.a.createElement("div",{className:t.left},o.a.createElement("img",{className:t.img,src:go.a}),o.a.createElement("div",{style:{marginTop:-50,display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"flex-end"}},o.a.createElement(nt,{width:130,content:this.props.userProfile.FirstName,colorString:this.props.userProfile.Email}),o.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:10}},o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Medium",fontSize:30}},this.state.user?this.state.user.FirstName:""," ",this.state.user?this.state.user.LastName:""),o.a.createElement(pe.k,{style:{fontFamily:"Roboto-Regular",fontSize:15}},this.state.user?this.state.user.PhoneNumber:""))))),o.a.createElement(K,{xs:12,sm:12,md:5},o.a.createElement("div",{className:t.right},o.a.createElement("div",{className:t.TextField_0},o.a.createElement(se.a,{disabled:this.state.userID!=this.props.userProfile.UserID,id:"txtFirstName",label:"H\u1ecd",className:Fe()(t.textField_1,t.dense),margin:"dense",variant:"outlined",value:this.state.FirstName,onChange:this.onValueChange}),o.a.createElement(se.a,{disabled:this.state.userID!=this.props.userProfile.UserID,id:"txtLastName",label:"T\xean",className:Fe()(t.textField_1,t.dense),margin:"dense",variant:"outlined",value:this.state.LastName,onChange:this.onValueChange})),o.a.createElement(se.a,{disabled:this.state.userID!=this.props.userProfile.UserID,id:"txtPhone",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",className:Fe()(t.textField_2,t.dense),margin:"dense",variant:"outlined",value:this.state.Phone,onChange:this.onValueChange}),o.a.createElement(se.a,{disabled:!0,id:"txtTeam",label:"Team",value:this.state.CompanyName,className:Fe()(t.textField_2,t.dense),margin:"dense",variant:"outlined"}),o.a.createElement(se.a,{disabled:!0,id:"txtTeam",label:"Email team",value:this.state.CompanyEmail,className:Fe()(t.textField_2,t.dense),margin:"dense",variant:"outlined"}),o.a.createElement(se.a,{disabled:!0,id:"txtEmail",label:"Email c\xe1 nh\xe2n",value:this.state.Email,className:t.textField_2,margin:"dense",variant:"outlined"}),this.state.userID==this.props.userProfile.UserID?o.a.createElement(T.a,{variant:"contained",color:"primary",className:Fe()(t.textField_2,t.cssbt),onClick:function(){return e.onUpdateClick(e.state.FirstName,e.state.LastName,e.state.Phone)}},"C\u1eadp nh\u1eadt"):null,this.state.userID==this.props.userProfile.UserID?o.a.createElement(se.a,{id:"txtOld_password",label:"M\u1eadt kh\u1ea9u c\u0169",className:Fe()(t.textField_3,t.dense),margin:"dense",variant:"outlined",type:"password",onChange:this.onValueChange}):null,this.state.userID==this.props.userProfile.UserID?o.a.createElement(se.a,{id:"txtNew_password",label:"M\u1eadt kh\u1ea9u m\u1edbi",type:"password",className:Fe()(t.textField_2,t.dense),margin:"dense",variant:"outlined",onChange:this.onValueChange}):null,this.state.userID==this.props.userProfile.UserID?o.a.createElement(se.a,{id:"txtRetype_password",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",className:Fe()(t.textField_2,t.dense),margin:"dense",type:"password",variant:"outlined",onChange:this.onValueChange}):null,this.state.userID==this.props.userProfile.UserID?o.a.createElement(T.a,{variant:"contained",color:"primary",className:Fe()(t.textField_2,t.cssbt),onClick:function(){return e.onChangePassword(e.state.Old_password,e.state.New_password)}},"\u0110\u1ed5i m\u1eadt kh\u1ea9u"):null)))):null}}]),t}(o.a.Component),xo=Object(w.withStyles)(function(e){var t,a,n,o;return{root:{width:"95%",fontFamily:"Roboto",marginLeft:"auto",marginRight:"auto"},TextField_0:(t={display:"flex",flexDirection:"row"},Object(g.a)(t,e.breakpoints.up("md"),{width:"99.5%"}),Object(g.a)(t,e.breakpoints.down("sm"),{width:"60%"}),Object(g.a)(t,e.breakpoints.down("xs"),{width:"79%"}),t),textField_1:(a={marginBottom:20,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},Object(g.a)(a,e.breakpoints.down("sm"),{width:"58.5%"}),Object(g.a)(a,e.breakpoints.up("md"),{width:"95%"}),Object(g.a)(a,e.breakpoints.down("xs"),{width:"74.5%"}),a),textField_2:(n={marginLeft:e.spacing.unit,marginRight:e.spacing.unit,fontSize:16,fontFamily:"Roboto-Regular"},Object(g.a)(n,e.breakpoints.down("sm"),{width:"58.5%"}),Object(g.a)(n,e.breakpoints.up("md"),{width:"95%"}),Object(g.a)(n,e.breakpoints.down("xs"),{width:"74.5%"}),n),textField_3:(o={marginTop:50,marginLeft:e.spacing.unit,marginRight:e.spacing.unit},Object(g.a)(o,e.breakpoints.down("sm"),{width:"58.5%"}),Object(g.a)(o,e.breakpoints.up("md"),{width:"95%"}),Object(g.a)(o,e.breakpoints.down("xs"),{width:"74.5%"}),o),img:Object(g.a)({top:0,right:0,bottom:0,left:0,width:"100%",height:"68%"},e.breakpoints.down("sm"),{display:"none"}),avatar:{width:130,height:130},right:Object(g.a)({display:"flex",flexDirection:"column",jutifyContent:"center",alignItems:"center",marginTop:-9},e.breakpoints.down("sm"),{width:"95%"}),left:{display:"flex",flexDirection:"column",jutifyContent:"center",alignItems:"center"},cssbt:{backgroundColor:"#47525E","&:hover":{backgroundColor:"#1A100B"}}}})(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{doupdateProfile:function(t,a,n){return e(we(t,a,n))},doChangePassword:function(t,a){return e(ke(t,a))},doGetUserInfo:function(t){return e(Ee(t))}}})(bo)),vo=hn()("https://fivedesk.herokuapp.com"),yo=o.a.createElement(u.a,null,o.a.createElement(p.a,{exact:!0,path:"/agent/ticket/new",component:pn}),o.a.createElement(p.a,{exact:!0,path:"/agent/member/profile/:userID",component:xo}),o.a.createElement(p.a,{exact:!0,path:"/agent/ticket/:mailID",component:co}),mo.map(function(e,t){return e.redirect?o.a.createElement(d.a,{from:e.path,to:e.to,key:t}):o.a.createElement(p.a,{path:e.path,component:e.component,key:t})})),Eo=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onReceiveMessage=function(){console.log("socket incoming mail"),Pa.ToastStore.success("C\xf3 mail m\u1edbi!")},a.handleDrawerToggle=function(){a.setState({mobileOpen:!a.state.mobileOpen})},a.state={mobileOpen:!1},a.resizeFunction=a.resizeFunction.bind(Object(x.a)(Object(x.a)(a))),vo.on("incomingMail",a.onReceiveMessage),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"resizeFunction",value:function(){window.innerWidth>=960&&this.setState({mobileOpen:!1})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.loadUserFromToken().then(function(t){console.log("resJson token"),console.log(t),0==t.returnCode?e.props.history.push("/"):currentUser}).catch(function(e){console.log(e)}),document.title="FiveDesk - Agent",navigator.platform.indexOf("Win")>-1)new v.a(this.refs.mainPanel);window.addEventListener("resize",this.resizeFunction)}},{key:"componentDidUpdate",value:function(e){e.history.location.pathname!==e.location.pathname&&(this.refs.mainPanel.scrollTop=0,this.state.mobileOpen&&this.setState({mobileOpen:!1}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFunction)}},{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(b.a)(e,["classes"]);return o.a.createElement("div",{className:t.wrapper},o.a.createElement(Pa.ToastContainer,{position:Pa.ToastContainer.POSITION.BOTTOM_LEFT,store:Pa.ToastStore}),o.a.createElement(Bt,Object.assign({routes:mo,logoText:"FIVE DESK",logo:qe.a,image:po.a,handleDrawerToggle:this.handleDrawerToggle,open:this.state.mobileOpen,color:"blue",newMessage:this.state.newMessage},a)),o.a.createElement("div",{className:t.mainPanel,ref:"mainPanel"},o.a.createElement(Tt,Object.assign({routes:mo,handleDrawerToggle:this.handleDrawerToggle},a)),o.a.createElement("div",{className:t.content},o.a.createElement("div",{className:t.container},yo))))}}]),t}(o.a.Component),ko=E()(re)(Object(h.b)(function(e){return{userProfile:e.user.profile}},function(e){return{loadUserFromToken:function(){return e(xe())}}})(Eo)),wo=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).state={user:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(u.a,null,o.a.createElement(p.a,{path:"/agent",component:ko}),o.a.createElement(p.a,{path:"/",component:$e}),o.a.createElement(d.a,{from:"/",to:"/home"}))}}]),t}(o.a.Component),Co=a(570),To=a(66),So=a(252),Oo={profile:null},jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo,t=arguments.length>1?arguments[1]:void 0;switch(console.log("action.profile"),console.log(t.profile),t.type){case"SAVE_PROFILE":return Object(f.a)({},e,{profile:t.profile});default:return e}},No={selectedMailID:null},Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:No,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_LISTMAIL_SELECTED":return Object(f.a)({},e,{selectedMailID:t.selectedMailID});default:return e}},Do=Object(To.c)({user:jo,mail:Fo}),Io=[So.a],Po=Object(To.d)(Do,{},To.a.apply(void 0,Io)),Lo=Object(ce.a)();Object(i.render)(o.a.createElement(h.a,{store:Po},o.a.createElement(Co.a,{history:Lo},o.a.createElement(wo,null))),document.getElementById("root"))},80:function(e,t,a){e.exports=a.p+"static/media/logo.676615f5.png"}},[[298,2,1]]]);
//# sourceMappingURL=main.87f967c8.chunk.js.map